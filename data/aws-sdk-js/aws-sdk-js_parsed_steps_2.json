[
    {
        "feature_file": "acm.feature",
        "test_num": 1,
        "test_case": "Making a request",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listCertificates\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"CertificateSummaryList\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "acm.feature",
        "test_num": 2,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeCertificate\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "apigateway.feature",
        "test_num": 3,
        "test_case": "Making a request",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"getRestApis\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"items\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "apigateway.feature",
        "test_num": 4,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"getRestApi\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"NotFoundException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "autoscaling.feature",
        "test_num": 5,
        "test_case": "Managing auto scaling groups",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a launch configuration with name \"launch-config-integ\"",
                "step_name_cleaned": "I create a launch configuration with name \"\"",
                "step_definition": "function(name, callback) {\n    var params = {\n      ImageId: 'ami-1624987f',\n      InstanceType: 'm1.small',\n      LaunchConfigurationName: name\n    };\n    this.request(null, 'createLaunchConfiguration', params, callback, false);\n  }",
                "step_definition_file": "autoscaling.js"
            },
            {
                "step_num": 2,
                "step_name": "I describe launch configurations",
                "step_name_cleaned": "I describe launch configurations",
                "step_definition": "function(callback) {\n    this.request(null, 'describeLaunchConfigurations', {}, callback);\n  }",
                "step_definition_file": "autoscaling.js"
            },
            {
                "step_num": 3,
                "step_name": "the list should contain the launch configuration \"launch-config-integ\"",
                "step_name_cleaned": "the list should contain the launch configuration \"\"",
                "step_definition": "function(name, callback) {\n    this.assert.contains(this.data.LaunchConfigurations, function(configuration) {\n      return configuration.LaunchConfigurationName === name;\n    });\n    callback();\n  }",
                "step_definition_file": "autoscaling.js"
            },
            {
                "step_num": 4,
                "step_name": "I delete the launch configuration \"launch-config-integ\"",
                "step_name_cleaned": "I delete the launch configuration \"\"",
                "step_definition": "function(name, callback) {\n    var params = {LaunchConfigurationName: name};\n    this.request(null, 'deleteLaunchConfiguration', params, callback);\n  }",
                "step_definition_file": "autoscaling.js"
            }
        ]
    },
    {
        "feature_file": "autoscaling.feature",
        "test_num": 6,
        "test_case": "Paginating responses",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a launch configuration with name \"launch-config-integ-1\"",
                "step_name_cleaned": "I create a launch configuration with name \"\"",
                "step_definition": "function(name, callback) {\n    var params = {\n      ImageId: 'ami-1624987f',\n      InstanceType: 'm1.small',\n      LaunchConfigurationName: name\n    };\n    this.request(null, 'createLaunchConfiguration', params, callback, false);\n  }",
                "step_definition_file": "autoscaling.js"
            },
            {
                "step_num": 2,
                "step_name": "I create a launch configuration with name \"launch-config-integ-2\"",
                "step_name_cleaned": "I create a launch configuration with name \"\"",
                "step_definition": "function(name, callback) {\n    var params = {\n      ImageId: 'ami-1624987f',\n      InstanceType: 'm1.small',\n      LaunchConfigurationName: name\n    };\n    this.request(null, 'createLaunchConfiguration', params, callback, false);\n  }",
                "step_definition_file": "autoscaling.js"
            },
            {
                "step_num": 3,
                "step_name": "I paginate the \"describeLaunchConfigurations\" operation with limit 1",
                "step_name_cleaned": "I paginate the \"\" operation with limit 1",
                "step_definition": "function(operation, limit, maxPages, callback) {\n    limit = parseInt(limit);\n    if (maxPages) maxPages = parseInt(maxPages);\n\n    var world = this;\n    this.numPages = 0;\n    this.numMarkers = 0;\n    this.operation = operation;\n    this.paginationConfig = this.service.paginationConfig(operation);\n    this.params = this.params || {};\n\n    var marker = this.paginationConfig.outputToken;\n    if (this.paginationConfig.limitKey) {\n      this.params[this.paginationConfig.limitKey] = limit;\n    }\n    this.service[operation](this.params).eachPage(function (err, data) {\n      if (err) callback.fail(err);\n      else if (data === null) callback();\n      else if (maxPages && world.numPages === maxPages) {\n        callback();\n        return false;\n      }\n      else {\n        if (data[marker]) world.numMarkers++;\n        world.numPages++;\n        world.data = data;\n      }\n    });\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 4,
                "step_name": "I should get more than one page",
                "step_name_cleaned": "I should get more than one page",
                "step_definition": "function(callback) {\n    this.assert.compare(this.numPages, '>', 1);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 5,
                "step_name": "I should get numPages - 1 markers",
                "step_name_cleaned": "I should get numPages - 1 markers",
                "step_definition": "function(callback) {\n    this.assert.equal(this.numMarkers, this.numPages - 1);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 6,
                "step_name": "the last page should not contain a marker",
                "step_name_cleaned": "the last page should not contain a marker",
                "step_definition": "function(callback) {\n    var marker = this.paginationConfig.outputToken;\n    this.assert.equal(this.data[marker], null);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 7,
                "step_name": "I delete the launch configuration \"launch-config-integ-1\"",
                "step_name_cleaned": "I delete the launch configuration \"\"",
                "step_definition": "function(name, callback) {\n    var params = {LaunchConfigurationName: name};\n    this.request(null, 'deleteLaunchConfiguration', params, callback);\n  }",
                "step_definition_file": "autoscaling.js"
            },
            {
                "step_num": 8,
                "step_name": "I delete the launch configuration \"launch-config-integ-2\"",
                "step_name_cleaned": "I delete the launch configuration \"\"",
                "step_definition": "function(name, callback) {\n    var params = {LaunchConfigurationName: name};\n    this.request(null, 'deleteLaunchConfiguration', params, callback);\n  }",
                "step_definition_file": "autoscaling.js"
            }
        ]
    },
    {
        "feature_file": "autoscaling.feature",
        "test_num": 7,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a launch configuration with name \"\"",
                "step_name_cleaned": "I create a launch configuration with name \"\"",
                "step_definition": "function(name, callback) {\n    var params = {\n      ImageId: 'ami-1624987f',\n      InstanceType: 'm1.small',\n      LaunchConfigurationName: name\n    };\n    this.request(null, 'createLaunchConfiguration', params, callback, false);\n  }",
                "step_definition_file": "autoscaling.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationError\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the error message should contain",
                "step_name_cleaned": "the error message should contain",
                "step_definition": "function(matcher, message, callback) {\n    if (matcher === 'be') matcher = 'equal';\n    if (matcher === 'contain') matcher = 'match';\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert[matcher](this.error.message, message);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "cloudformation.feature",
        "test_num": 8,
        "test_case": "Describing stacks",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeStacks\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"Stacks\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "cloudformation.feature",
        "test_num": 9,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a CloudFormation stack with name prefix \"\"",
                "step_name_cleaned": "I create a CloudFormation stack with name prefix \"\"",
                "step_definition": "function(prefix, callback) {\n    this.stackName = this.uniqueName(prefix);\n    this.templateBody = '{\"Resources\":{\"member\":{\"Type\":\"AWS::SQS::Queue\"}}}';\n    var params = { TemplateBody: this.templateBody, StackName: this.stackName, EnableTerminationProtection: true };\n    this.request(null, 'createStack', params, callback, false);\n  }",
                "step_definition_file": "cloudformation.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationError\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "cloudformation.feature",
        "test_num": 10,
        "test_case": "Paginating responses",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I paginate the \"listStacks\" operation",
                "step_name_cleaned": "I paginate the \"\" operation",
                "step_definition": "function(operation, limit, maxPages, callback) {\n    limit = parseInt(limit);\n    if (maxPages) maxPages = parseInt(maxPages);\n\n    var world = this;\n    this.numPages = 0;\n    this.numMarkers = 0;\n    this.operation = operation;\n    this.paginationConfig = this.service.paginationConfig(operation);\n    this.params = this.params || {};\n\n    var marker = this.paginationConfig.outputToken;\n    if (this.paginationConfig.limitKey) {\n      this.params[this.paginationConfig.limitKey] = limit;\n    }\n    this.service[operation](this.params).eachPage(function (err, data) {\n      if (err) callback.fail(err);\n      else if (data === null) callback();\n      else if (maxPages && world.numPages === maxPages) {\n        callback();\n        return false;\n      }\n      else {\n        if (data[marker]) world.numMarkers++;\n        world.numPages++;\n        world.data = data;\n      }\n    });\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "I should get at least one page",
                "step_name_cleaned": "I should get at least one page",
                "step_definition": "function(callback) {\n    this.assert.compare(this.numPages, '>=', 1);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the last page should not contain a marker",
                "step_name_cleaned": "the last page should not contain a marker",
                "step_definition": "function(callback) {\n    var marker = this.paginationConfig.outputToken;\n    this.assert.equal(this.data[marker], null);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "cloudfront.feature",
        "test_num": 11,
        "test_case": "Listing distributions",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I list CloudFront distributions",
                "step_name_cleaned": "I list CloudFront distributions",
                "step_definition": "function(callback) {\n    this.request(null, 'listDistributions', {}, callback);\n  }",
                "step_definition_file": "cloudfront.js"
            },
            {
                "step_num": 2,
                "step_name": "the result at DistributionList should contain a property Quantity with a number",
                "step_name_cleaned": "the result at DistributionList should contain a property Quantity with a number",
                "step_definition": "function(wrapper, property, type, callback) {\n    if (type === 'Array' || type === 'Date') {\n      this.assert.equal(this.AWS.util.isType(this.data[wrapper][property], type), true);\n    } else {\n      this.assert.equal(typeof this.data[wrapper][property], type);\n    }\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the result at DistributionList should contain a property Items with an Array",
                "step_name_cleaned": "the result at DistributionList should contain a property Items with an Array",
                "step_definition": "function(wrapper, property, type, callback) {\n    if (type === 'Array' || type === 'Date') {\n      this.assert.equal(this.AWS.util.isType(this.data[wrapper][property], type), true);\n    } else {\n      this.assert.equal(typeof this.data[wrapper][property], type);\n    }\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "cloudfront.feature",
        "test_num": 12,
        "test_case": "Creating a distribution",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a CloudFront distribution with name prefix \"aws-js-sdk\"",
                "step_name_cleaned": "I create a CloudFront distribution with name prefix \"\"",
                "step_definition": "function(prefix, callback) {\n    this.cfName = this.uniqueName(prefix);\n    this.cfCreateParams.CallerReference = this.cfName;\n    this.cfCreateParams.Origins.Items[0].Id = (this.cfName === '' ? 'origin' : 'InvalidOrigin');\n    this.request(null, 'createDistribution', { DistributionConfig: this.cfCreateParams }, callback, false);\n  }",
                "step_definition_file": "cloudfront.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"NoSuchOrigin\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the status code should be 404",
                "step_name_cleaned": "the status code should be 404",
                "step_definition": "function(status, callback) {\n    this.assert.equal(this.response.httpResponse.statusCode, parseInt(status));\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "cloudfront.feature",
        "test_num": 13,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a CloudFront distribution with name prefix \"\"",
                "step_name_cleaned": "I create a CloudFront distribution with name prefix \"\"",
                "step_definition": "function(prefix, callback) {\n    this.cfName = this.uniqueName(prefix);\n    this.cfCreateParams.CallerReference = this.cfName;\n    this.cfCreateParams.Origins.Items[0].Id = (this.cfName === '' ? 'origin' : 'InvalidOrigin');\n    this.request(null, 'createDistribution', { DistributionConfig: this.cfCreateParams }, callback, false);\n  }",
                "step_definition_file": "cloudfront.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"InvalidArgument\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "cloudsearch.feature",
        "test_num": 14,
        "test_case": "Describing domain",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeDomains\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"DomainStatusList\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "cloudsearch.feature",
        "test_num": 15,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a domain with name prefix \"\"",
                "step_name_cleaned": "I create a domain with name prefix \"\"",
                "step_definition": "function(prefix, callback) {\n    this.domainName = this.uniqueName(prefix);\n    this.request(null, 'createDomain', {DomainName: this.domainName}, callback, false);\n  }",
                "step_definition_file": "cloudsearch.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationError\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "cloudtrail.feature",
        "test_num": 16,
        "test_case": "Describing trails",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I describe trails",
                "step_name_cleaned": "I describe trails",
                "step_definition": "function(callback) {\n    this.request(null, 'describeTrails', {}, callback);\n  }",
                "step_definition_file": "cloudtrail.js"
            },
            {
                "step_num": 2,
                "step_name": "the status code should be 200",
                "step_name_cleaned": "the status code should be 200",
                "step_definition": "function(status, callback) {\n    this.assert.equal(this.response.httpResponse.statusCode, parseInt(status));\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "cloudtrail.feature",
        "test_num": 17,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a trail with an invalid name",
                "step_name_cleaned": "I create a trail with an invalid name",
                "step_definition": "function(callback) {\n    this.request(null, 'createTrail', {Name: '', S3BucketName: ''}, callback, false);\n  }",
                "step_definition_file": "cloudtrail.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"InvalidTrailNameException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the error message should contain",
                "step_name_cleaned": "the error message should contain",
                "step_definition": "function(matcher, message, callback) {\n    if (matcher === 'be') matcher = 'equal';\n    if (matcher === 'contain') matcher = 'match';\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert[matcher](this.error.message, message);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "cloudwatch.feature",
        "test_num": 18,
        "test_case": "Alarms",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a CloudWatch alarm with prefix \"aws-js-sdk-alarm\"",
                "step_name_cleaned": "I create a CloudWatch alarm with prefix \"\"",
                "step_definition": "function(prefix, name, callback) {\n    var timestamp = new Date().getTime();\n    this.cloudWatchAlarm = {\n      AlarmName: name,\n      MetricName: 'aws-sdk-js-metric-' + timestamp,\n      Namespace: 'aws-sdk-js-namespace' + timestamp,\n      ComparisonOperator: 'GreaterThanThreshold',\n      EvaluationPeriods: 5,\n      Period: 60,\n      Statistic: 'Average',\n      Threshold: 50.0\n    };\n\n    if (prefix === 'prefix') {\n      this.cloudWatchAlarm.AlarmName += '-' + timestamp;\n    }\n\n    this.request(null, 'putMetricAlarm', this.cloudWatchAlarm,\n      callback, prefix === 'name' ? false : undefined);\n  }",
                "step_definition_file": "cloudwatch.js"
            },
            {
                "step_num": 2,
                "step_name": "I list the CloudWatch alarms",
                "step_name_cleaned": "I list the CloudWatch alarms",
                "step_definition": "function(callback) {\n    var params = {\n      MetricName: this.cloudWatchAlarm.MetricName,\n      Namespace: this.cloudWatchAlarm.Namespace\n    };\n    this.request(null, 'describeAlarmsForMetric', params, callback);\n  }",
                "step_definition_file": "cloudwatch.js"
            },
            {
                "step_num": 3,
                "step_name": "the list should contain the CloudWatch alarm",
                "step_name_cleaned": "the list should contain the CloudWatch alarm",
                "step_definition": "function(callback) {\n    var name = this.cloudWatchAlarm.AlarmName;\n    this.assert.contains(this.data.MetricAlarms, function(alarm) {\n      return alarm.AlarmName === name;\n    });\n    callback();\n  }",
                "step_definition_file": "cloudwatch.js"
            },
            {
                "step_num": 4,
                "step_name": "I delete the CloudWatch alarm",
                "step_name_cleaned": "I delete the CloudWatch alarm",
                "step_definition": "function(callback) {\n    this.request(null, 'deleteAlarms',\n      {AlarmNames: [this.cloudWatchAlarm.AlarmName]}, callback);\n  }",
                "step_definition_file": "cloudwatch.js"
            }
        ]
    },
    {
        "feature_file": "cloudwatch.feature",
        "test_num": 19,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a CloudWatch alarm with name \"\"",
                "step_name_cleaned": "I create a CloudWatch alarm with name \"\"",
                "step_definition": "function(prefix, name, callback) {\n    var timestamp = new Date().getTime();\n    this.cloudWatchAlarm = {\n      AlarmName: name,\n      MetricName: 'aws-sdk-js-metric-' + timestamp,\n      Namespace: 'aws-sdk-js-namespace' + timestamp,\n      ComparisonOperator: 'GreaterThanThreshold',\n      EvaluationPeriods: 5,\n      Period: 60,\n      Statistic: 'Average',\n      Threshold: 50.0\n    };\n\n    if (prefix === 'prefix') {\n      this.cloudWatchAlarm.AlarmName += '-' + timestamp;\n    }\n\n    this.request(null, 'putMetricAlarm', this.cloudWatchAlarm,\n      callback, prefix === 'name' ? false : undefined);\n  }",
                "step_definition_file": "cloudwatch.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationError\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "cloudwatchevents.feature",
        "test_num": 20,
        "test_case": "Making a request",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listRules\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"Rules\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "cloudwatchevents.feature",
        "test_num": 21,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeRule\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ResourceNotFoundException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "cloudwatchlogs.feature",
        "test_num": 22,
        "test_case": "Log Groups",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a CloudWatch logGroup with prefix \"aws-js-sdk\"",
                "step_name_cleaned": "I create a CloudWatch logGroup with prefix \"\"",
                "step_definition": "function (prefix, callback) {\n    var expectErr = prefix === \"\" ? false : undefined;\n    this.logGroupName = this.uniqueName(prefix);\n    this.request(null, 'createLogGroup', {logGroupName: this.logGroupName}, callback, expectErr);\n  }",
                "step_definition_file": "cloudwatchlogs.js"
            },
            {
                "step_num": 2,
                "step_name": "I list the CloudWatch logGroups",
                "step_name_cleaned": "I list the CloudWatch logGroups",
                "step_definition": "function (callback) {\n    this.request(null, 'describeLogGroups', {logGroupNamePrefix: this.logGroupName}, callback);\n  }",
                "step_definition_file": "cloudwatchlogs.js"
            },
            {
                "step_num": 3,
                "step_name": "the list should contain the CloudWatch logGroup",
                "step_name_cleaned": "the list should contain the CloudWatch logGroup",
                "step_definition": "function (callback) {\n    var name = this.logGroupName;\n    this.assert.contains(this.data.logGroups, function(alarm) {\n      return alarm.logGroupName === name;\n    });\n    callback();\n  }",
                "step_definition_file": "cloudwatchlogs.js"
            },
            {
                "step_num": 4,
                "step_name": "I delete the CloudWatch logGroup",
                "step_name_cleaned": "I delete the CloudWatch logGroup",
                "step_definition": "function (callback) {\n    this.request(null, 'deleteLogGroup', {logGroupName: this.logGroupName}, callback);\n  }",
                "step_definition_file": "cloudwatchlogs.js"
            }
        ]
    },
    {
        "feature_file": "cloudwatchlogs.feature",
        "test_num": 23,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a CloudWatch logGroup with prefix \"\"",
                "step_name_cleaned": "I create a CloudWatch logGroup with prefix \"\"",
                "step_definition": "function (prefix, callback) {\n    var expectErr = prefix === \"\" ? false : undefined;\n    this.logGroupName = this.uniqueName(prefix);\n    this.request(null, 'createLogGroup', {logGroupName: this.logGroupName}, callback, expectErr);\n  }",
                "step_definition_file": "cloudwatchlogs.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"InvalidParameterException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "codecommit.feature",
        "test_num": 24,
        "test_case": "Listing repositories",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listRepositories\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"repositories\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "codecommit.feature",
        "test_num": 25,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listBranches\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"RepositoryDoesNotExistException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "codedeploy.feature",
        "test_num": 26,
        "test_case": "Listing Applicaitons",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listApplications\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"applications\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "codedeploy.feature",
        "test_num": 27,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"createApplication\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ApplicationNameRequiredException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "codepipeline.feature",
        "test_num": 28,
        "test_case": "Listing repositories",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listPipelines\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"pipelines\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "codepipeline.feature",
        "test_num": 29,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"getPipeline\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"PipelineNotFoundException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "cognitoidentity.feature",
        "test_num": 30,
        "test_case": "Identity Pools",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a Cognito identity pool with prefix \"awssdkjs\"",
                "step_name_cleaned": "I create a Cognito identity pool with prefix \"\"",
                "step_definition": "function (prefix, callback) {\n    var expectError = prefix === \"\" ? false : undefined;\n    var params = {IdentityPoolName: this.uniqueName(prefix, ''), AllowUnauthenticatedIdentities: true};\n    this.request(null, 'createIdentityPool', params, callback, expectError);\n  }",
                "step_definition_file": "cognitoidentity.js"
            },
            {
                "step_num": 2,
                "step_name": "I describe the Cognito identity pool ID",
                "step_name_cleaned": "I describe the Cognito identity pool ID",
                "step_definition": "function (callback) {\n    this.identityPoolId = this.data.IdentityPoolId;\n    this.request(null, 'describeIdentityPool', {IdentityPoolId: this.data.IdentityPoolId}, callback);\n  }",
                "step_definition_file": "cognitoidentity.js"
            },
            {
                "step_num": 3,
                "step_name": "the status code should be 200",
                "step_name_cleaned": "the status code should be 200",
                "step_definition": "function(status, callback) {\n    this.assert.equal(this.response.httpResponse.statusCode, parseInt(status));\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 4,
                "step_name": "I delete the Cognito identity pool",
                "step_name_cleaned": "I delete the Cognito identity pool",
                "step_definition": "function (callback) {\n    this.request(null, 'deleteIdentityPool', {IdentityPoolId: this.identityPoolId}, callback);\n  }",
                "step_definition_file": "cognitoidentity.js"
            }
        ]
    },
    {
        "feature_file": "cognitoidentity.feature",
        "test_num": 31,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a Cognito identity pool with prefix \"\"",
                "step_name_cleaned": "I create a Cognito identity pool with prefix \"\"",
                "step_definition": "function (prefix, callback) {\n    var expectError = prefix === \"\" ? false : undefined;\n    var params = {IdentityPoolName: this.uniqueName(prefix, ''), AllowUnauthenticatedIdentities: true};\n    this.request(null, 'createIdentityPool', params, callback, expectError);\n  }",
                "step_definition_file": "cognitoidentity.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "cognitosync.feature",
        "test_num": 32,
        "test_case": "Identity Pool Usage",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I list Cognito identity pool usage",
                "step_name_cleaned": "I list Cognito identity pool usage",
                "step_definition": "function (callback) {\n    this.request(null, 'listIdentityPoolUsage', {}, callback);\n  }",
                "step_definition_file": "cognitosync.js"
            },
            {
                "step_num": 2,
                "step_name": "the status code should be 200",
                "step_name_cleaned": "the status code should be 200",
                "step_definition": "function(status, callback) {\n    this.assert.equal(this.response.httpResponse.statusCode, parseInt(status));\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "cognitosync.feature",
        "test_num": 33,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I list Cognito data sets with identity pool id \"INVALID\" and identity id \"A:B:C\"",
                "step_name_cleaned": "I list Cognito data sets with identity pool id \"\" and identity id \"\"",
                "step_definition": "function (idpid, idid, callback) {\n    var params = {IdentityPoolId: idpid, IdentityId: idid};\n    this.request(null, 'listDatasets', params, callback, false);\n  }",
                "step_definition_file": "cognitosync.js"
            },
            {
                "step_num": 2,
                "step_name": "the error message should contain",
                "step_name_cleaned": "the error message should contain",
                "step_definition": "function(matcher, message, callback) {\n    if (matcher === 'be') matcher = 'equal';\n    if (matcher === 'contain') matcher = 'match';\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert[matcher](this.error.message, message);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "configservice.feature",
        "test_num": 34,
        "test_case": "Listing delivery channels",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeDeliveryChannels\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"DeliveryChannels\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "configservice.feature",
        "test_num": 35,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"putDeliveryChannel\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "datapipeline.feature",
        "test_num": 36,
        "test_case": "Listing pipelines",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listPipelines\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"pipelineIdList\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "datapipeline.feature",
        "test_num": 37,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a Data Pipeline with name prefix \"\"",
                "step_name_cleaned": "I create a Data Pipeline with name prefix \"\"",
                "step_definition": "function(prefix, callback) {\n    var params = {\n      name: this.uniqueName(prefix), uniqueId: this.uniqueName('aws-js-sdk')\n    };\n    this.request(null, 'createPipeline', params, callback, false);\n  }",
                "step_definition_file": "datapipeline.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the error message should match",
                "step_name_cleaned": "the error message should match",
                "step_definition": "function(matcher, message, callback) {\n    if (matcher === 'be') matcher = 'equal';\n    if (matcher === 'contain') matcher = 'match';\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert[matcher](this.error.message, message);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "devicefarm.feature",
        "test_num": 38,
        "test_case": "Listing devices",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listDevices\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"devices\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "devicefarm.feature",
        "test_num": 39,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"getDevice\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"NotFoundException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "directconnect.feature",
        "test_num": 40,
        "test_case": "describe connections",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeConnections\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"connections\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "directconnect.feature",
        "test_num": 41,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a Direct Connect connection with an invalid location",
                "step_name_cleaned": "I create a Direct Connect connection with an invalid location",
                "step_definition": "function(callback) {\n    var params = {\n      bandwidth: '1Gbps',\n      location: 'INVALID_LOCATION',\n      connectionName: this.uniqueName('aws-sdk-js')\n    };\n    this.request(null, 'createConnection', params, callback, false);\n  }",
                "step_definition_file": "directconnect.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"DirectConnectClientException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "directoryservice.feature",
        "test_num": 42,
        "test_case": "Listing directories",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeDirectories\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"DirectoryDescriptions\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "directoryservice.feature",
        "test_num": 43,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"createDirectory\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "dms.feature",
        "test_num": 44,
        "test_case": "Making a request",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeEndpoints\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"Endpoints\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "dms.feature",
        "test_num": 45,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"startReplicationTask\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"InvalidParameterValueException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "crc32.feature",
        "test_num": 46,
        "test_case": "Retry on corrupted request",
        "steps": [
            {
                "step_num": 1,
                "step_name": "my first request is corrupted with CRC checking ON",
                "step_name_cleaned": "my first request is corrupted with CRC checking ON",
                "step_definition": "function(toggle, callback) {\n    var world = this;\n    this.service.config.dynamoDbCrc32 = toggle == 'ON' ? true : false;\n    var req = this.service.listTables();\n    this.service.config.dynamoDbCrc32 = true;\n    req.removeAllListeners('httpData');\n    req.on('httpData', function(chunk, resp) {\n      if (resp.retryCount == 0) {\n        resp.httpResponse.body = Buffer.from('{\"invalid\":\"response\"}');\n      } else {\n        world.AWS.EventListeners.Core.HTTP_DATA.call(this, chunk, resp);\n      }\n    });\n    req.on('complete', function(resp) {\n      world.error = resp.error;\n      world.response = resp;\n      if (resp.error) callback.fail(resp.error);\n      else callback();\n    });\n    req.send();\n  }",
                "step_definition_file": "dynamodb.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be retried",
                "step_name_cleaned": "the request should be retried",
                "step_definition": "function(retry, callback) {\n    if (retry && this.response.retryCount > 0) callback.fail('Request was incorrectly retried');\n    if (!retry && this.response.retryCount == 0) callback.fail('Request was incorrectly retried');\n    callback();\n  }",
                "step_definition_file": "dynamodb.js"
            },
            {
                "step_num": 3,
                "step_name": "the request should not fail with a CRC checking error",
                "step_name_cleaned": "the request should not fail with a CRC checking error",
                "step_definition": "function(failed, callback) {\n    if (failed && this.error) callback.fail(this.error);\n    if (!failed && !this.error) callback.fail('Did not fail when should have');\n    callback();\n  }",
                "step_definition_file": "dynamodb.js"
            }
        ]
    },
    {
        "feature_file": "crc32.feature",
        "test_num": 47,
        "test_case": "Failed retries on corrupted request",
        "steps": [
            {
                "step_num": 1,
                "step_name": "all of my requests are corrupted with CRC checking ON",
                "step_name_cleaned": "all of my requests are corrupted with CRC checking ON",
                "step_definition": "function(callback) {\n    var world = this;\n    var req = this.service.listTables();\n    req.removeAllListeners('httpData');\n    req.on('httpData', function(chunk, resp) {\n      resp.httpResponse.body = Buffer.from('{\"invalid\":\"response\"}');\n    });\n    req.on('complete', function(resp) {\n      world.error = resp.error;\n      world.response = resp;\n      callback();\n    });\n    req.send();\n  }",
                "step_definition_file": "dynamodb.js"
            },
            {
                "step_num": 2,
                "step_name": "the request is retried the maximum number of times",
                "step_name_cleaned": "the request is retried the maximum number of times",
                "step_definition": "function(callback) {\n    if (this.response.retryCount != 2) callback.fail('Incorrect retry count');\n    callback();\n  }",
                "step_definition_file": "dynamodb.js"
            },
            {
                "step_num": 3,
                "step_name": "the request should fail with a CRC checking error",
                "step_name_cleaned": "the request should fail with a CRC checking error",
                "step_definition": "function(failed, callback) {\n    if (failed && this.error) callback.fail(this.error);\n    if (!failed && !this.error) callback.fail('Did not fail when should have');\n    callback();\n  }",
                "step_definition_file": "dynamodb.js"
            }
        ]
    },
    {
        "feature_file": "crc32.feature",
        "test_num": 48,
        "test_case": "Ignore corrupted request with CRC checking OFF",
        "steps": [
            {
                "step_num": 1,
                "step_name": "my first request is corrupted with CRC checking OFF",
                "step_name_cleaned": "my first request is corrupted with CRC checking OFF",
                "step_definition": "function(toggle, callback) {\n    var world = this;\n    this.service.config.dynamoDbCrc32 = toggle == 'ON' ? true : false;\n    var req = this.service.listTables();\n    this.service.config.dynamoDbCrc32 = true;\n    req.removeAllListeners('httpData');\n    req.on('httpData', function(chunk, resp) {\n      if (resp.retryCount == 0) {\n        resp.httpResponse.body = Buffer.from('{\"invalid\":\"response\"}');\n      } else {\n        world.AWS.EventListeners.Core.HTTP_DATA.call(this, chunk, resp);\n      }\n    });\n    req.on('complete', function(resp) {\n      world.error = resp.error;\n      world.response = resp;\n      if (resp.error) callback.fail(resp.error);\n      else callback();\n    });\n    req.send();\n  }",
                "step_definition_file": "dynamodb.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should not be retried",
                "step_name_cleaned": "the request should not be retried",
                "step_definition": "function(retry, callback) {\n    if (retry && this.response.retryCount > 0) callback.fail('Request was incorrectly retried');\n    if (!retry && this.response.retryCount == 0) callback.fail('Request was incorrectly retried');\n    callback();\n  }",
                "step_definition_file": "dynamodb.js"
            },
            {
                "step_num": 3,
                "step_name": "the request should not fail with a CRC checking error",
                "step_name_cleaned": "the request should not fail with a CRC checking error",
                "step_definition": "function(failed, callback) {\n    if (failed && this.error) callback.fail(this.error);\n    if (!failed && !this.error) callback.fail('Did not fail when should have');\n    callback();\n  }",
                "step_definition_file": "dynamodb.js"
            }
        ]
    },
    {
        "feature_file": "tables.feature",
        "test_num": 49,
        "test_case": "Creating a table",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a table",
                "step_name_cleaned": "I create a table",
                "step_definition": "function(callback) {\n    var world = this;\n    this.tableName = this.uniqueName(\"aws-sdk-js-integration-\");\n    createTable(world, callback);\n  }",
                "step_definition_file": "dynamodb.js"
            },
            {
                "step_num": 2,
                "step_name": "the table should eventually exist",
                "step_name_cleaned": "the table should eventually exist",
                "step_definition": "function(callback) {\n    var params = {TableName: this.tableName};\n    this.service.waitFor('tableExists', params, callback);\n  }",
                "step_definition_file": "dynamodb.js"
            }
        ]
    },
    {
        "feature_file": "tables.feature",
        "test_num": 50,
        "test_case": "Item CRUD",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I have a table",
                "step_name_cleaned": "I have a table",
                "step_definition": "function(callback) {\n    var world = this;\n    this.service.listTables(function(err, data) {\n      for (var i = 0; i < data.TableNames.length; i++) {\n        if (data.TableNames[i] == world.tableName) {\n          callback();\n          return;\n        }\n      }\n      createTable(world, callback);\n    });\n  }",
                "step_definition_file": "dynamodb.js"
            },
            {
                "step_num": 2,
                "step_name": "I put the item",
                "step_name_cleaned": "I put the item",
                "step_definition": "function(string, next) {\n    var params = {TableName: this.tableName, Item: JSON.parse(string)};\n    this.request(null, 'putItem', params, next);\n  }",
                "step_definition_file": "dynamodb.js"
            },
            {
                "step_num": 3,
                "step_name": "the item with id \"foo\" should exist",
                "step_name_cleaned": "the item with id \"\" should exist",
                "step_definition": "function(key, next) {\n    var world = this;\n    var params = {TableName: this.tableName, Key: {id: {S: key}}};\n    this.request(null, 'getItem', params, next);\n  }",
                "step_definition_file": "dynamodb.js"
            },
            {
                "step_num": 4,
                "step_name": "it should have attribute \"data.S\" containing \"b\u00e5r\"",
                "step_name_cleaned": "it should have attribute \"\" containing \"\"",
                "step_definition": "function(attr, value, next) {\n    this.assert.equal(jmespath.search(this.data.Item, attr), value);\n    next();\n  }",
                "step_definition_file": "dynamodb.js"
            }
        ]
    },
    {
        "feature_file": "tables.feature",
        "test_num": 51,
        "test_case": "UTF-8 support",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I try to delete an item with key \"f\u00f8\u00f8\" from table \"table\"",
                "step_name_cleaned": "I try to delete an item with key \"\" from table \"\"",
                "step_definition": "function(key, table, callback) {\n    var params = {TableName: table, Key: {HashKeyElement: {S: key}}};\n    this.request(null, 'deleteItem', params, callback, false);\n  }",
                "step_definition_file": "dynamodb.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ResourceNotFoundException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "tables.feature",
        "test_num": 52,
        "test_case": "Improper table deletion",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I try to delete a table with an empty table parameter",
                "step_name_cleaned": "I try to delete a table with an empty table parameter",
                "step_definition": "function(callback) {\n    this.request(null, 'deleteTable', {TableName: ''}, callback, false);\n  }",
                "step_definition_file": "dynamodb.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the status code should be 400",
                "step_name_cleaned": "the status code should be 400",
                "step_definition": "function(status, callback) {\n    this.assert.equal(this.response.httpResponse.statusCode, parseInt(status));\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "tables.feature",
        "test_num": 53,
        "test_case": "Recursive Attributes",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I have a table",
                "step_name_cleaned": "I have a table",
                "step_definition": "function(callback) {\n    var world = this;\n    this.service.listTables(function(err, data) {\n      for (var i = 0; i < data.TableNames.length; i++) {\n        if (data.TableNames[i] == world.tableName) {\n          callback();\n          return;\n        }\n      }\n      createTable(world, callback);\n    });\n  }",
                "step_definition_file": "dynamodb.js"
            },
            {
                "step_num": 2,
                "step_name": "I put the item",
                "step_name_cleaned": "I put the item",
                "step_definition": "function(string, next) {\n    var params = {TableName: this.tableName, Item: JSON.parse(string)};\n    this.request(null, 'putItem', params, next);\n  }",
                "step_definition_file": "dynamodb.js"
            },
            {
                "step_num": 3,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 4,
                "step_name": "the item with id \"fooRecursive\" should exist",
                "step_name_cleaned": "the item with id \"\" should exist",
                "step_definition": "function(key, next) {\n    var world = this;\n    var params = {TableName: this.tableName, Key: {id: {S: key}}};\n    this.request(null, 'getItem', params, next);\n  }",
                "step_definition_file": "dynamodb.js"
            },
            {
                "step_num": 5,
                "step_name": "it should have attribute \"data.M.attr1.L[1].L[0].M.attr12.S\" containing \"value2\"",
                "step_name_cleaned": "it should have attribute \"\" containing \"\"",
                "step_definition": "function(attr, value, next) {\n    this.assert.equal(jmespath.search(this.data.Item, attr), value);\n    next();\n  }",
                "step_definition_file": "dynamodb.js"
            }
        ]
    },
    {
        "feature_file": "tables.feature",
        "test_num": 54,
        "test_case": "Deleting the created table",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I delete the table",
                "step_name_cleaned": "I delete the table",
                "step_definition": "function(next) {\n    var params = {TableName: this.tableName};\n    this.request(null, 'deleteTable', params, next);\n  }",
                "step_definition_file": "dynamodb.js"
            },
            {
                "step_num": 2,
                "step_name": "the table should eventually not exist",
                "step_name_cleaned": "the table should eventually not exist",
                "step_definition": "function(callback) {\n    var params = {TableName: this.tableName};\n    this.service.waitFor('tableNotExists', params, callback);\n  }",
                "step_definition_file": "dynamodb.js"
            }
        ]
    },
    {
        "feature_file": "dynamodbstreams.feature",
        "test_num": 55,
        "test_case": "Listing streams",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listStreams\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"Streams\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "dynamodbstreams.feature",
        "test_num": 56,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeStream\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "ec2.feature",
        "test_num": 57,
        "test_case": "DescribeRegions",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I describe EC2 regions \"us-east-1, us-west-1\"",
                "step_name_cleaned": "I describe EC2 regions \"\"",
                "step_definition": "function(regions, callback) {\n    regions = regions.split(/\\s*,\\s*/);\n    this.request(null, 'describeRegions', {RegionNames: regions}, callback);\n  }",
                "step_definition_file": "ec2.js"
            },
            {
                "step_num": 2,
                "step_name": "the EC2 endpoint for \"us-east-1\" should be \"ec2.us-east-1.amazonaws.com\"",
                "step_name_cleaned": "the EC2 endpoint for \"\" should be \"\"",
                "step_definition": "function(region, endpoint, callback) {\n    this.assert.contains(this.data.Regions, function(region) {\n      return region.Endpoint === endpoint;\n    });\n    callback();\n  }",
                "step_definition_file": "ec2.js"
            },
            {
                "step_num": 3,
                "step_name": "the EC2 endpoint for \"us-west-1\" should be \"ec2.us-west-1.amazonaws.com\"",
                "step_name_cleaned": "the EC2 endpoint for \"\" should be \"\"",
                "step_definition": "function(region, endpoint, callback) {\n    this.assert.contains(this.data.Regions, function(region) {\n      return region.Endpoint === endpoint;\n    });\n    callback();\n  }",
                "step_definition_file": "ec2.js"
            }
        ]
    },
    {
        "feature_file": "ec2.feature",
        "test_num": 58,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I describe the EC2 instance \"\"",
                "step_name_cleaned": "I describe the EC2 instance \"\"",
                "step_definition": "function(instanceId, callback) {\n    this.request(null, 'describeInstances', {InstanceIds: [instanceId]}, callback, false);\n  }",
                "step_definition_file": "ec2.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"MissingParameter\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the status code should be 400",
                "step_name_cleaned": "the status code should be 400",
                "step_definition": "function(status, callback) {\n    this.assert.equal(this.response.httpResponse.statusCode, parseInt(status));\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "ec2.feature",
        "test_num": 59,
        "test_case": "Encrypted CopySnapshot",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I attempt to copy an encrypted snapshot across regions",
                "step_name_cleaned": "I attempt to copy an encrypted snapshot across regions",
                "step_definition": "function (callback) {\n    var self = this;\n    var volId, srcSnapId, dstSnapId, params;\n    var sourceRegion = 'us-west-2';\n    var destRegion = 'us-east-1';\n    var srcEc2 = new this.AWS.EC2({region: sourceRegion});\n    var dstEc2 = new this.AWS.EC2({region: destRegion});\n\n    function teardown() {\n      if (volId) srcEc2.deleteVolume({VolumeId: volId}).send();\n      if (srcSnapId) srcEc2.deleteSnapshot({SnapshotId: srcSnapId}).send();\n      if (dstSnapId) dstEc2.deleteSnapshot({SnapshotId: dstSnapId}).send();\n    }\n\n    params = {AvailabilityZone:sourceRegion+'a',Size:10,Encrypted:true};\n    srcEc2.createVolume(params, function(err, data) {\n      if (err) { teardown(); return callback(err); }\n      volId = data.VolumeId;\n\n      srcEc2.waitFor('volumeAvailable', {VolumeIds: [volId]}, function(err) {\n        if (err) { teardown(); return callback(err); }\n\n        srcEc2.createSnapshot({VolumeId: volId}, function(err, data) {\n          if (err) { teardown(); return callback(err); }\n          srcSnapId = data.SnapshotId;\n\n          setTimeout(function() {\n            params = {SourceRegion: sourceRegion, SourceSnapshotId: srcSnapId};\n            dstEc2.copySnapshot(params, function(err, data) {\n              if (data) dstSnapId = data.SnapshotId;\n              self.success = true;\n              callback();\n              teardown();\n            });\n          }, 5000);\n        });\n      });\n    });\n  }",
                "step_definition_file": "ec2.js"
            },
            {
                "step_num": 2,
                "step_name": "the copy snapshot attempt should be successful",
                "step_name_cleaned": "the copy snapshot attempt should be successful",
                "step_definition": "function (callback) {\n    this.assert.equal(this.success, true);\n    callback();\n  }",
                "step_definition_file": "ec2.js"
            }
        ]
    },
    {
        "feature_file": "ec2.feature",
        "test_num": 60,
        "test_case": "Paginating responses",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I paginate the \"describeReservedInstancesOfferings\" operation with limit 20 and max pages 3",
                "step_name_cleaned": "I paginate the \"\" operation with limit 20 and max pages 3",
                "step_definition": "function(operation, limit, maxPages, callback) {\n    limit = parseInt(limit);\n    if (maxPages) maxPages = parseInt(maxPages);\n\n    var world = this;\n    this.numPages = 0;\n    this.numMarkers = 0;\n    this.operation = operation;\n    this.paginationConfig = this.service.paginationConfig(operation);\n    this.params = this.params || {};\n\n    var marker = this.paginationConfig.outputToken;\n    if (this.paginationConfig.limitKey) {\n      this.params[this.paginationConfig.limitKey] = limit;\n    }\n    this.service[operation](this.params).eachPage(function (err, data) {\n      if (err) callback.fail(err);\n      else if (data === null) callback();\n      else if (maxPages && world.numPages === maxPages) {\n        callback();\n        return false;\n      }\n      else {\n        if (data[marker]) world.numMarkers++;\n        world.numPages++;\n        world.data = data;\n      }\n    });\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "I should get 3 pages",
                "step_name_cleaned": "I should get 3 pages",
                "step_definition": "function(numPages, callback) {\n    this.assert.equal(this.numPages, parseInt(numPages));\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "ecr.feature",
        "test_num": 61,
        "test_case": "Making a request",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeRepositories\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"repositories\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "ecr.feature",
        "test_num": 62,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listImages\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"RepositoryNotFoundException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "ecs.feature",
        "test_num": 63,
        "test_case": "Listing clusters",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listClusters\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"clusterArns\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "ecs.feature",
        "test_num": 64,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"stopTask\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the status code should be 400",
                "step_name_cleaned": "the status code should be 400",
                "step_definition": "function(status, callback) {\n    this.assert.equal(this.response.httpResponse.statusCode, parseInt(status));\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "efs.feature",
        "test_num": 65,
        "test_case": "Listing file systems",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeFileSystems\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"FileSystems\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "efs.feature",
        "test_num": 66,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"deleteFileSystem\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "elasticache.feature",
        "test_num": 67,
        "test_case": "Creating and deleting cache parameter groups",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a cache parameter group with name prefix \"aws-js-sdk\"",
                "step_name_cleaned": "I create a cache parameter group with name prefix \"\"",
                "step_definition": "function(prefix, callback) {\n    this.cacheGroupName = this.uniqueName(prefix);\n    var params = {\n      Description: 'Description',\n      CacheParameterGroupName: this.cacheGroupName,\n      CacheParameterGroupFamily: 'memcached1.4'\n    };\n    this.request(null, 'createCacheParameterGroup', params, callback, false);\n  }",
                "step_definition_file": "elasticache.js"
            },
            {
                "step_num": 2,
                "step_name": "the cache parameter group name is in the result",
                "step_name_cleaned": "the cache parameter group name is in the result",
                "step_definition": "function(callback) {\n    var name = this.data.CacheParameterGroup.CacheParameterGroupName;\n    this.assert.equal(name, this.cacheGroupName);\n    callback();\n  }",
                "step_definition_file": "elasticache.js"
            },
            {
                "step_num": 3,
                "step_name": "I describe the cache parameter groups",
                "step_name_cleaned": "I describe the cache parameter groups",
                "step_definition": "function(callback) {\n    var params = {CacheParameterGroupName: this.cacheGroupName};\n    this.request(null, 'describeCacheParameterGroups', params, callback);\n  }",
                "step_definition_file": "elasticache.js"
            },
            {
                "step_num": 4,
                "step_name": "the value at \"CacheParameterGroups\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 5,
                "step_name": "the cache parameter group should be described",
                "step_name_cleaned": "the cache parameter group should be described",
                "step_definition": "function(callback) {\n    var item = this.data.CacheParameterGroups[0];\n    this.assert.equal(item.CacheParameterGroupName, this.cacheGroupName);\n    callback();\n  }",
                "step_definition_file": "elasticache.js"
            },
            {
                "step_num": 6,
                "step_name": "I delete the cache parameter group",
                "step_name_cleaned": "I delete the cache parameter group",
                "step_definition": "function(callback) {\n    var params = {CacheParameterGroupName: this.cacheGroupName};\n    this.request(null, 'deleteCacheParameterGroup', params, callback);\n  }",
                "step_definition_file": "elasticache.js"
            }
        ]
    },
    {
        "feature_file": "elasticache.feature",
        "test_num": 68,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a cache parameter group with name prefix \"\"",
                "step_name_cleaned": "I create a cache parameter group with name prefix \"\"",
                "step_definition": "function(prefix, callback) {\n    this.cacheGroupName = this.uniqueName(prefix);\n    var params = {\n      Description: 'Description',\n      CacheParameterGroupName: this.cacheGroupName,\n      CacheParameterGroupFamily: 'memcached1.4'\n    };\n    this.request(null, 'createCacheParameterGroup', params, callback, false);\n  }",
                "step_definition_file": "elasticache.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"InvalidParameterValue\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the error message should contain",
                "step_name_cleaned": "the error message should contain",
                "step_definition": "function(matcher, message, callback) {\n    if (matcher === 'be') matcher = 'equal';\n    if (matcher === 'contain') matcher = 'match';\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert[matcher](this.error.message, message);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "elasticbeanstalk.feature",
        "test_num": 69,
        "test_case": "Creating applications and application versions",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create an Elastic Beanstalk application with name prefix \"aws-js-sdk\"",
                "step_name_cleaned": "I create an Elastic Beanstalk application with name prefix \"\"",
                "step_definition": "function(prefix, callback) {\n    this.appName = this.uniqueName(prefix);\n    var params = { ApplicationName: this.appName };\n    this.request(null, 'createApplication', params, callback, false);\n  }",
                "step_definition_file": "elasticbeanstalk.js"
            },
            {
                "step_num": 2,
                "step_name": "I create an Elastic Beanstalk application version with label \"1.0.0\"",
                "step_name_cleaned": "I create an Elastic Beanstalk application version with label \"\"",
                "step_definition": "function(label, callback) {\n    this.appVersion = label;\n    var params = { ApplicationName: this.appName, VersionLabel: this.appVersion };\n    this.request(null, 'createApplicationVersion', params, callback);\n  }",
                "step_definition_file": "elasticbeanstalk.js"
            },
            {
                "step_num": 3,
                "step_name": "I describe the Elastic Beanstalk application",
                "step_name_cleaned": "I describe the Elastic Beanstalk application",
                "step_definition": "function(callback) {\n    var params = { ApplicationNames: [this.appName] };\n    this.request(null, 'describeApplications', params, callback);\n  }",
                "step_definition_file": "elasticbeanstalk.js"
            },
            {
                "step_num": 4,
                "step_name": "the result should contain the Elastic Beanstalk application version",
                "step_name_cleaned": "the result should contain the Elastic Beanstalk application version",
                "step_definition": "function(callback) {\n    this.assert.deepEqual(this.data.Applications[0].Versions, [this.appVersion]);\n    callback();\n  }",
                "step_definition_file": "elasticbeanstalk.js"
            },
            {
                "step_num": 5,
                "step_name": "the result should contain the Elastic Beanstalk application name",
                "step_name_cleaned": "the result should contain the Elastic Beanstalk application name",
                "step_definition": "function(callback) {\n    this.assert.equal(this.data.Applications[0].ApplicationName, this.appName);\n    callback();\n  }",
                "step_definition_file": "elasticbeanstalk.js"
            },
            {
                "step_num": 6,
                "step_name": "I delete the Elastic Beanstalk application",
                "step_name_cleaned": "I delete the Elastic Beanstalk application",
                "step_definition": "function(callback) {\n    var params = { ApplicationName: this.appName };\n    this.request(null, 'deleteApplication', params, callback);\n  }",
                "step_definition_file": "elasticbeanstalk.js"
            }
        ]
    },
    {
        "feature_file": "elasticbeanstalk.feature",
        "test_num": 70,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create an Elastic Beanstalk application with name prefix \"\"",
                "step_name_cleaned": "I create an Elastic Beanstalk application with name prefix \"\"",
                "step_definition": "function(prefix, callback) {\n    this.appName = this.uniqueName(prefix);\n    var params = { ApplicationName: this.appName };\n    this.request(null, 'createApplication', params, callback, false);\n  }",
                "step_definition_file": "elasticbeanstalk.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationError\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the error message should match",
                "step_name_cleaned": "the error message should match",
                "step_definition": "function(matcher, message, callback) {\n    if (matcher === 'be') matcher = 'equal';\n    if (matcher === 'contain') matcher = 'match';\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert[matcher](this.error.message, message);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "elastictranscoder.feature",
        "test_num": 71,
        "test_case": "Pipeline CRUD",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create an IAM role with name prefix \"aws-sdk-js\"",
                "step_name_cleaned": "I create an IAM role with name prefix \"\"",
                "step_definition": "function(name, callback) {\n    this.iamRoleName = this.uniqueName(name);\n\n    var world = this;\n    var assumeRolePolicyDocument = '{\"Version\":\"2008-10-17\",\"Statement\":[' +\n      '{\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"ec2.amazonaws.com\"]},' +\n      '\"Action\":[\"sts:AssumeRole\"]}]}';\n    var params = {RoleName: this.iamRoleName,\n      AssumeRolePolicyDocument: assumeRolePolicyDocument};\n    var next = function() {\n      world.iamRoleArn = world.data.Role.Arn;\n      callback();\n    }\n    next.fail = callback.fail;\n\n    this.request('iam', 'createRole', params, next);\n  }",
                "step_definition_file": "iam.js"
            },
            {
                "step_num": 2,
                "step_name": "I create a bucket",
                "step_name_cleaned": "I create a bucket",
                "step_definition": "function(callback) {\n    var bucket = this.bucket = this.uniqueName('aws-sdk-js-integration');\n    this.request('s3', 'createBucket', {Bucket: this.bucket}, function(err, data) {\n      if (err) {\n        return callback(err);\n      }\n      this.s3.waitFor('bucketExists', {Bucket: bucket}, callback);\n    });\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "I create an Elastic Transcoder pipeline with name prefix \"aws-sdk-js\"",
                "step_name_cleaned": "I create an Elastic Transcoder pipeline with name prefix \"\"",
                "step_definition": "function(prefix, callback) {\n    this.pipelineName = this.uniqueName(prefix);\n    var params = {\n      Name: this.pipelineName,\n      InputBucket: this.bucket,\n      OutputBucket: this.bucket,\n      Role: this.iamRoleArn,\n      Notifications: {\"Progressing\":\"\",\"Completed\":\"\",\"Warning\":\"\",\"Error\":\"\"}\n    };\n\n    var world = this;\n    var next = function() {\n      if (world.data) world.pipelineId = world.data.Pipeline.Id;\n      callback();\n    }\n\n    this.request(null, 'createPipeline', params, next, false);\n  }",
                "step_definition_file": "elastictranscoder.js"
            },
            {
                "step_num": 4,
                "step_name": "I list pipelines",
                "step_name_cleaned": "I list pipelines",
                "step_definition": "function(callback) {\n    this.request(null, 'listPipelines', {}, callback);\n  }",
                "step_definition_file": "elastictranscoder.js"
            },
            {
                "step_num": 5,
                "step_name": "the list should contain the pipeline",
                "step_name_cleaned": "the list should contain the pipeline",
                "step_definition": "function(callback) {\n    var id = this.pipelineId;\n    this.assert.contains(this.data.Pipelines, function (pipeline) {\n      return pipeline.Id === id;\n    });\n    callback();\n  }",
                "step_definition_file": "elastictranscoder.js"
            },
            {
                "step_num": 6,
                "step_name": "I pause the pipeline",
                "step_name_cleaned": "I pause the pipeline",
                "step_definition": "function(callback) {\n    this.request(null, 'updatePipelineStatus', {Id:this.pipelineId, Status: 'Paused'}, callback);\n  }",
                "step_definition_file": "elastictranscoder.js"
            },
            {
                "step_num": 7,
                "step_name": "I read the pipeline",
                "step_name_cleaned": "I read the pipeline",
                "step_definition": "function(callback) {\n    this.request(null, 'readPipeline', {Id: this.pipelineId}, callback);\n  }",
                "step_definition_file": "elastictranscoder.js"
            },
            {
                "step_num": 8,
                "step_name": "the pipeline status should be \"Paused\"",
                "step_name_cleaned": "the pipeline status should be \"\"",
                "step_definition": "function(status, callback) {\n    this.assert.equal(this.data.Pipeline.Status, status);\n    callback();\n  }",
                "step_definition_file": "elastictranscoder.js"
            },
            {
                "step_num": 9,
                "step_name": "I delete the pipeline",
                "step_name_cleaned": "I delete the pipeline",
                "step_definition": "function(callback) {\n    this.request(null, 'deletePipeline', {Id: this.pipelineId}, callback);\n  }",
                "step_definition_file": "elastictranscoder.js"
            },
            {
                "step_num": 10,
                "step_name": "I delete the bucket",
                "step_name_cleaned": "I delete the bucket",
                "step_definition": "function(callback) {\n    this.request('s3', 'deleteBucket', {Bucket: this.bucket}, callback);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 11,
                "step_name": "I delete the IAM role",
                "step_name_cleaned": "I delete the IAM role",
                "step_definition": "function(callback) {\n    this.request('iam', 'deleteRole', {RoleName: this.iamRoleName}, callback);\n  }",
                "step_definition_file": "iam.js"
            }
        ]
    },
    {
        "feature_file": "elastictranscoder.feature",
        "test_num": 72,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create an Elastic Transcoder pipeline with name prefix \"\"",
                "step_name_cleaned": "I create an Elastic Transcoder pipeline with name prefix \"\"",
                "step_definition": "function(prefix, callback) {\n    this.pipelineName = this.uniqueName(prefix);\n    var params = {\n      Name: this.pipelineName,\n      InputBucket: this.bucket,\n      OutputBucket: this.bucket,\n      Role: this.iamRoleArn,\n      Notifications: {\"Progressing\":\"\",\"Completed\":\"\",\"Warning\":\"\",\"Error\":\"\"}\n    };\n\n    var world = this;\n    var next = function() {\n      if (world.data) world.pipelineId = world.data.Pipeline.Id;\n      callback();\n    }\n\n    this.request(null, 'createPipeline', params, next, false);\n  }",
                "step_definition_file": "elastictranscoder.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "elb.feature",
        "test_num": 73,
        "test_case": "Making a request",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeLoadBalancers\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "elb.feature",
        "test_num": 74,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a load balancer with name prefix \"verylongelasticloadbalancername\"",
                "step_name_cleaned": "I create a load balancer with name prefix \"\"",
                "step_definition": "function(prefix, callback) {\n    this.loadBalancerName = prefix + '-' + new Date().getTime();\n\n    var params = {\n      LoadBalancerName: this.loadBalancerName,\n      Listeners: [{Protocol: 'TCP', LoadBalancerPort: 80, InstancePort: 80}],\n      AvailabilityZones: ['us-east-1a']\n    };\n    this.request(null, 'createLoadBalancer', params, callback, false);\n  }",
                "step_definition_file": "elb.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationError\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the status code should be 400",
                "step_name_cleaned": "the status code should be 400",
                "step_definition": "function(status, callback) {\n    this.assert.equal(this.response.httpResponse.statusCode, parseInt(status));\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "elbv2.feature",
        "test_num": 75,
        "test_case": "Making a request",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeTargetGroups\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"TargetGroups\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "elbv2.feature",
        "test_num": 76,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeTags\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationError\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "emr.feature",
        "test_num": 77,
        "test_case": "Making a request",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listClusters\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"Clusters\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "emr.feature",
        "test_num": 78,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run an EMR job flow with invalid parameters",
                "step_name_cleaned": "I run an EMR job flow with invalid parameters",
                "step_definition": "function(callback) {\n    this.service = new this.AWS.EMR();\n    var params = {Name: '', Instances: {MasterInstanceType: 'invalid'}};\n    this.request(null, 'runJobFlow', params, callback, false);\n  }",
                "step_definition_file": "emr.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "es.feature",
        "test_num": 79,
        "test_case": "Making a request",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listDomainNames\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"DomainNames\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "es.feature",
        "test_num": 80,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeElasticsearchDomain\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ResourceNotFoundException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "gamelift.feature",
        "test_num": 81,
        "test_case": "Making a request",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listBuilds\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"Builds\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "gamelift.feature",
        "test_num": 82,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeAlias\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"InvalidRequestException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "glacier.feature",
        "test_num": 83,
        "test_case": "Creating a vault",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I have a Glacier vault",
                "step_name_cleaned": "I have a Glacier vault",
                "step_definition": "function(callback) {\n    this.vaultName = 'aws-sdk-js-integration';\n    var params = {vaultName: this.vaultName};\n    this.request(null, 'createVault', params, callback, false);\n  }",
                "step_definition_file": "glacier.js"
            },
            {
                "step_num": 2,
                "step_name": "I describe the Glacier vault",
                "step_name_cleaned": "I describe the Glacier vault",
                "step_definition": "function(callback) {\n    var params = {vaultName: this.vaultName};\n    this.request(null, 'describeVault', params, callback);\n  }",
                "step_definition_file": "glacier.js"
            },
            {
                "step_num": 3,
                "step_name": "the result should contain a property NumberOfArchives with a number",
                "step_name_cleaned": "the result should contain a property NumberOfArchives with a number",
                "step_definition": "function(property, type, callback) {\n    if (type === 'Array' || type === 'Date') {\n      this.assert.equal(this.AWS.util.isType(this.data[property], type), true);\n    } else {\n      this.assert.equal(typeof this.data[property], type);\n    }\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "glacier.feature",
        "test_num": 84,
        "test_case": "Uploading an archive",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I have a Glacier vault",
                "step_name_cleaned": "I have a Glacier vault",
                "step_definition": "function(callback) {\n    this.vaultName = 'aws-sdk-js-integration';\n    var params = {vaultName: this.vaultName};\n    this.request(null, 'createVault', params, callback, false);\n  }",
                "step_definition_file": "glacier.js"
            },
            {
                "step_num": 2,
                "step_name": "I upload a 0.25MB Glacier archive to the vault",
                "step_name_cleaned": "I upload a 0.25MB Glacier archive to the vault",
                "step_definition": "function(size, invalid, callback) {\n    var data = Buffer.alloc(parseFloat(size) * 1024 * 1024);\n    data.fill('0');\n    var params = {vaultName: this.vaultName, body: data};\n    if (invalid) {\n      if (invalid.match(\"invalid\")) params.checksum = '000';\n      else params.checksum = '00000000000000000000000000000000';\n    }\n    this.request(null, 'uploadArchive', params, callback, false);\n  }",
                "step_definition_file": "glacier.js"
            },
            {
                "step_num": 3,
                "step_name": "the result should contain the Glacier archive ID",
                "step_name_cleaned": "the result should contain the Glacier archive ID",
                "step_definition": "function(callback) {\n    this.archiveId = this.data.archiveId;\n    callback();\n  }",
                "step_definition_file": "glacier.js"
            },
            {
                "step_num": 4,
                "step_name": "the result should contain the same tree hash checksum",
                "step_name_cleaned": "the result should contain the same tree hash checksum",
                "step_definition": "function(callback) {\n    var hash = this.response.request.httpRequest.headers['x-amz-sha256-tree-hash'];\n    this.assert.equal(this.data.checksum, hash);\n    callback();\n  }",
                "step_definition_file": "glacier.js"
            },
            {
                "step_num": 5,
                "step_name": "I delete the Glacier archive",
                "step_name_cleaned": "I delete the Glacier archive",
                "step_definition": "function(callback) {\n    var params = {vaultName: this.vaultName, archiveId: this.archiveId};\n    this.request(null, 'deleteArchive', params, callback);\n  }",
                "step_definition_file": "glacier.js"
            }
        ]
    },
    {
        "feature_file": "glacier.feature",
        "test_num": 85,
        "test_case": "Multi-part upload",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I have a Glacier vault",
                "step_name_cleaned": "I have a Glacier vault",
                "step_definition": "function(callback) {\n    this.vaultName = 'aws-sdk-js-integration';\n    var params = {vaultName: this.vaultName};\n    this.request(null, 'createVault', params, callback, false);\n  }",
                "step_definition_file": "glacier.js"
            },
            {
                "step_num": 2,
                "step_name": "I initiate a Glacier multi-part upload on a 2.5MB archive in 1MB chunks",
                "step_name_cleaned": "I initiate a Glacier multi-part upload on a 2.5MB archive in 1MB chunks",
                "step_definition": "function(totalSize, partSize, callback) {\n    // setup multi-part upload\n    this.uploadData = Buffer.alloc(totalSize * 1024 * 1024);\n    this.uploadData.fill('0');\n    this.checksums = this.service.computeChecksums(this.uploadData);\n    this.partCounter = 0;\n    this.partSize = partSize * 1024 * 1024;\n\n    var params = {vaultName: this.vaultName, partSize: this.partSize.toString()};\n    this.request(null, 'initiateMultipartUpload', params, callback);\n  }",
                "step_definition_file": "glacier.js"
            },
            {
                "step_num": 3,
                "step_name": "the result should contain the Glacier multi-part upload ID",
                "step_name_cleaned": "the result should contain the Glacier multi-part upload ID",
                "step_definition": "function(callback) {\n    this.uploadId = this.data.uploadId;\n    callback();\n  }",
                "step_definition_file": "glacier.js"
            },
            {
                "step_num": 4,
                "step_name": "I send the Glacier archive data in chunks",
                "step_name_cleaned": "I send the Glacier archive data in chunks",
                "step_definition": "function(callback) {\n    var numPartsLeft = Math.ceil(this.uploadData.length / this.partSize);\n    for (var i = 0; i < this.uploadData.length; i += this.partSize) {\n      var end = Math.min(i + this.partSize, this.uploadData.length);\n      var buf = this.uploadData.slice(i, end);\n      var range = 'bytes ' + i + '-' + (end - 1) + '/*';\n      var params = {\n        vaultName: this.vaultName,\n        uploadId: this.uploadId,\n        range: range,\n        body: buf\n      };\n      this.service.uploadMultipartPart(params, function() {\n        if (--numPartsLeft === 0) callback();\n      });\n    }\n  }",
                "step_definition_file": "glacier.js"
            },
            {
                "step_num": 5,
                "step_name": "I complete the Glacier multi-part upload",
                "step_name_cleaned": "I complete the Glacier multi-part upload",
                "step_definition": "function(callback) {\n    var params = {\n      vaultName: this.vaultName,\n      uploadId: this.uploadId,\n      archiveSize: this.uploadData.length.toString(),\n      checksum: this.checksums.treeHash\n    };\n    this.request(null, 'completeMultipartUpload', params, callback);\n  }",
                "step_definition_file": "glacier.js"
            },
            {
                "step_num": 6,
                "step_name": "the result should contain the Glacier archive ID",
                "step_name_cleaned": "the result should contain the Glacier archive ID",
                "step_definition": "function(callback) {\n    this.archiveId = this.data.archiveId;\n    callback();\n  }",
                "step_definition_file": "glacier.js"
            },
            {
                "step_num": 7,
                "step_name": "the result should contain the same tree hash checksum",
                "step_name_cleaned": "the result should contain the same tree hash checksum",
                "step_definition": "function(callback) {\n    var hash = this.response.request.httpRequest.headers['x-amz-sha256-tree-hash'];\n    this.assert.equal(this.data.checksum, hash);\n    callback();\n  }",
                "step_definition_file": "glacier.js"
            },
            {
                "step_num": 8,
                "step_name": "I delete the Glacier archive",
                "step_name_cleaned": "I delete the Glacier archive",
                "step_definition": "function(callback) {\n    var params = {vaultName: this.vaultName, archiveId: this.archiveId};\n    this.request(null, 'deleteArchive', params, callback);\n  }",
                "step_definition_file": "glacier.js"
            }
        ]
    },
    {
        "feature_file": "glacier.feature",
        "test_num": 86,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I have a Glacier vault",
                "step_name_cleaned": "I have a Glacier vault",
                "step_definition": "function(callback) {\n    this.vaultName = 'aws-sdk-js-integration';\n    var params = {vaultName: this.vaultName};\n    this.request(null, 'createVault', params, callback, false);\n  }",
                "step_definition_file": "glacier.js"
            },
            {
                "step_num": 2,
                "step_name": "I upload a 0.05MB Glacier archive to the vault with incorrect checksum",
                "step_name_cleaned": "I upload a 0.05MB Glacier archive to the vault with incorrect checksum",
                "step_definition": "function(size, invalid, callback) {\n    var data = Buffer.alloc(parseFloat(size) * 1024 * 1024);\n    data.fill('0');\n    var params = {vaultName: this.vaultName, body: data};\n    if (invalid) {\n      if (invalid.match(\"invalid\")) params.checksum = '000';\n      else params.checksum = '00000000000000000000000000000000';\n    }\n    this.request(null, 'uploadArchive', params, callback, false);\n  }",
                "step_definition_file": "glacier.js"
            },
            {
                "step_num": 3,
                "step_name": "the error code should be \"InvalidParameterValueException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 4,
                "step_name": "the error message should match",
                "step_name_cleaned": "the error message should match",
                "step_definition": "function(matcher, message, callback) {\n    if (matcher === 'be') matcher = 'equal';\n    if (matcher === 'contain') matcher = 'match';\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert[matcher](this.error.message, message);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 5,
                "step_name": "I upload a 0.05MB Glacier archive to the vault with invalid checksum",
                "step_name_cleaned": "I upload a 0.05MB Glacier archive to the vault with invalid checksum",
                "step_definition": "function(size, invalid, callback) {\n    var data = Buffer.alloc(parseFloat(size) * 1024 * 1024);\n    data.fill('0');\n    var params = {vaultName: this.vaultName, body: data};\n    if (invalid) {\n      if (invalid.match(\"invalid\")) params.checksum = '000';\n      else params.checksum = '00000000000000000000000000000000';\n    }\n    this.request(null, 'uploadArchive', params, callback, false);\n  }",
                "step_definition_file": "glacier.js"
            },
            {
                "step_num": 6,
                "step_name": "the error code should be \"InvalidParameterValueException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 7,
                "step_name": "the error message should equal",
                "step_name_cleaned": "the error message should equal",
                "step_definition": "function(matcher, message, callback) {\n    if (matcher === 'be') matcher = 'equal';\n    if (matcher === 'contain') matcher = 'match';\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert[matcher](this.error.message, message);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "iam.feature",
        "test_num": 87,
        "test_case": "Users",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I have an IAM username \"js-test\"",
                "step_name_cleaned": "I have an IAM username \"\"",
                "step_definition": "function(name, callback) {\n    this.iamUserArn = '';\n    this.iamUser = this.uniqueName(name);\n    callback();\n  }",
                "step_definition_file": "iam.js"
            },
            {
                "step_num": 2,
                "step_name": "I create an IAM user with the username",
                "step_name_cleaned": "I create an IAM user with the username",
                "step_definition": "function(callback) {\n    var world = this;\n    var next = function() {\n      if (world.data) this.iamUserArn = world.data.User.Arn;\n      else this.iamUserArn = null;\n      callback();\n    };\n    next.fail = callback.fail;\n    this.request('iam', 'createUser', {UserName: this.iamUser}, next, false);\n  }",
                "step_definition_file": "iam.js"
            },
            {
                "step_num": 3,
                "step_name": "I get the IAM user",
                "step_name_cleaned": "I get the IAM user",
                "step_definition": "function(callback) {\n    this.request('iam', 'getUser', {UserName: this.iamUser}, callback);\n  }",
                "step_definition_file": "iam.js"
            },
            {
                "step_num": 4,
                "step_name": "the IAM user should exist",
                "step_name_cleaned": "the IAM user should exist",
                "step_definition": "function(callback) {\n    this.assert.equal(this.data.User.UserName, this.iamUser);\n    callback();\n  }",
                "step_definition_file": "iam.js"
            },
            {
                "step_num": 5,
                "step_name": "I delete the IAM user",
                "step_name_cleaned": "I delete the IAM user",
                "step_definition": "function(callback) {\n    this.request('iam', 'deleteUser', {UserName: this.iamUser}, callback);\n  }",
                "step_definition_file": "iam.js"
            }
        ]
    },
    {
        "feature_file": "iam.feature",
        "test_num": 88,
        "test_case": "Roles",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create an IAM role with name prefix \"aws-sdk-js\"",
                "step_name_cleaned": "I create an IAM role with name prefix \"\"",
                "step_definition": "function(name, callback) {\n    this.iamRoleName = this.uniqueName(name);\n\n    var world = this;\n    var assumeRolePolicyDocument = '{\"Version\":\"2008-10-17\",\"Statement\":[' +\n      '{\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"ec2.amazonaws.com\"]},' +\n      '\"Action\":[\"sts:AssumeRole\"]}]}';\n    var params = {RoleName: this.iamRoleName,\n      AssumeRolePolicyDocument: assumeRolePolicyDocument};\n    var next = function() {\n      world.iamRoleArn = world.data.Role.Arn;\n      callback();\n    }\n    next.fail = callback.fail;\n\n    this.request('iam', 'createRole', params, next);\n  }",
                "step_definition_file": "iam.js"
            },
            {
                "step_num": 2,
                "step_name": "the IAM role should exist",
                "step_name_cleaned": "the IAM role should exist",
                "step_definition": "function(callback) {\n    this.assert.compare(this.iamRoleArn.length, '>', 0);\n    callback();\n  }",
                "step_definition_file": "iam.js"
            },
            {
                "step_num": 3,
                "step_name": "I delete the IAM role",
                "step_name_cleaned": "I delete the IAM role",
                "step_definition": "function(callback) {\n    this.request('iam', 'deleteRole', {RoleName: this.iamRoleName}, callback);\n  }",
                "step_definition_file": "iam.js"
            }
        ]
    },
    {
        "feature_file": "iam.feature",
        "test_num": 89,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I have an IAM username \"js-test-dupe\"",
                "step_name_cleaned": "I have an IAM username \"\"",
                "step_definition": "function(name, callback) {\n    this.iamUserArn = '';\n    this.iamUser = this.uniqueName(name);\n    callback();\n  }",
                "step_definition_file": "iam.js"
            },
            {
                "step_num": 2,
                "step_name": "I create an IAM user with the username",
                "step_name_cleaned": "I create an IAM user with the username",
                "step_definition": "function(callback) {\n    var world = this;\n    var next = function() {\n      if (world.data) this.iamUserArn = world.data.User.Arn;\n      else this.iamUserArn = null;\n      callback();\n    };\n    next.fail = callback.fail;\n    this.request('iam', 'createUser', {UserName: this.iamUser}, next, false);\n  }",
                "step_definition_file": "iam.js"
            },
            {
                "step_num": 3,
                "step_name": "I create an IAM user with the username",
                "step_name_cleaned": "I create an IAM user with the username",
                "step_definition": "function(callback) {\n    var world = this;\n    var next = function() {\n      if (world.data) this.iamUserArn = world.data.User.Arn;\n      else this.iamUserArn = null;\n      callback();\n    };\n    next.fail = callback.fail;\n    this.request('iam', 'createUser', {UserName: this.iamUser}, next, false);\n  }",
                "step_definition_file": "iam.js"
            },
            {
                "step_num": 4,
                "step_name": "the error code should be \"EntityAlreadyExists\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 5,
                "step_name": "I delete the IAM user",
                "step_name_cleaned": "I delete the IAM user",
                "step_definition": "function(callback) {\n    this.request('iam', 'deleteUser', {UserName: this.iamUser}, callback);\n  }",
                "step_definition_file": "iam.js"
            }
        ]
    },
    {
        "feature_file": "inspector.feature",
        "test_num": 90,
        "test_case": "Making a request",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listRulesPackages\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"rulesPackageArns\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "inspector.feature",
        "test_num": 91,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"stopAssessmentRun\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"InvalidInputException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "iot.feature",
        "test_num": 92,
        "test_case": "Making a request",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listPolicies\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"policies\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "iot.feature",
        "test_num": 93,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeCertificate\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"InvalidRequestException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "kinesis.feature",
        "test_num": 94,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I try to describe a stream in Kinesis",
                "step_name_cleaned": "I try to describe a stream in Kinesis",
                "step_definition": "function(callback) {\n    this.request(null, 'describeStream', {StreamName: 'XXINVALIDXX'}, callback, false);\n  }",
                "step_definition_file": "kinesis.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ResourceNotFoundException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "kms.feature",
        "test_num": 95,
        "test_case": "List keys",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listKeys\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"Keys\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "kms.feature",
        "test_num": 96,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"createAlias\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "lambda.feature",
        "test_num": 97,
        "test_case": "Listing functions",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listFunctions\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"Functions\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "lambda.feature",
        "test_num": 98,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"invoke\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ResourceNotFoundException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "machinelearning.feature",
        "test_num": 99,
        "test_case": "Describing MLModels",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeMLModels\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"Results\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "machinelearning.feature",
        "test_num": 100,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"getBatchPrediction\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ResourceNotFoundException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "mobileanalytics.feature",
        "test_num": 101,
        "test_case": "Putting events",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"putEvents\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "mobileanalytics.feature",
        "test_num": 102,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"putEvents\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"BadRequestException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "opsworks.feature",
        "test_num": 103,
        "test_case": "Creating and deleting user profiles",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I have an IAM username \"aws-js-sdk\"",
                "step_name_cleaned": "I have an IAM username \"\"",
                "step_definition": "function(name, callback) {\n    this.iamUserArn = '';\n    this.iamUser = this.uniqueName(name);\n    callback();\n  }",
                "step_definition_file": "iam.js"
            },
            {
                "step_num": 2,
                "step_name": "I create an IAM user with the username",
                "step_name_cleaned": "I create an IAM user with the username",
                "step_definition": "function(callback) {\n    var world = this;\n    var next = function() {\n      if (world.data) this.iamUserArn = world.data.User.Arn;\n      else this.iamUserArn = null;\n      callback();\n    };\n    next.fail = callback.fail;\n    this.request('iam', 'createUser', {UserName: this.iamUser}, next, false);\n  }",
                "step_definition_file": "iam.js"
            },
            {
                "step_num": 3,
                "step_name": "I create an OpsWorks user profile with the IAM user ARN",
                "step_name_cleaned": "I create an OpsWorks user profile with the IAM user ARN",
                "step_definition": "function(callback) {\n    var params = {IamUserArn: this.iamUserArn};\n    this.request(null, 'createUserProfile', params, callback, false);\n  }",
                "step_definition_file": "opsworks.js"
            },
            {
                "step_num": 4,
                "step_name": "the IAM user ARN is in the result",
                "step_name_cleaned": "the IAM user ARN is in the result",
                "step_definition": "function(callback) {\n    this.assert.equal(this.data.IamUserArn, this.iamUserArn);\n    callback();\n  }",
                "step_definition_file": "opsworks.js"
            },
            {
                "step_num": 5,
                "step_name": "I describe the OpsWorks user profiles",
                "step_name_cleaned": "I describe the OpsWorks user profiles",
                "step_definition": "function(callback) {\n    var params = {IamUserArns: [this.iamUserArn]};\n    this.request(null, 'describeUserProfiles', params, callback);\n  }",
                "step_definition_file": "opsworks.js"
            },
            {
                "step_num": 6,
                "step_name": "the IAM user ARN should be in the result",
                "step_name_cleaned": "the IAM user ARN should be in the result",
                "step_definition": "function(callback) {\n    this.assert.equal(this.data.UserProfiles[0].IamUserArn, this.iamUserArn);\n    callback();\n  }",
                "step_definition_file": "opsworks.js"
            },
            {
                "step_num": 7,
                "step_name": "the name should be equal to the IAM username",
                "step_name_cleaned": "the name should be equal to the IAM username",
                "step_definition": "function(callback) {\n    this.assert.equal(this.data.UserProfiles[0].Name, this.iamUser);\n    callback();\n  }",
                "step_definition_file": "opsworks.js"
            },
            {
                "step_num": 8,
                "step_name": "the SSH username should be equal to the IAM username",
                "step_name_cleaned": "the SSH username should be equal to the IAM username",
                "step_definition": "function(callback) {\n    this.assert.equal(this.data.UserProfiles[0].SshUsername, this.iamUser);\n    callback();\n  }",
                "step_definition_file": "opsworks.js"
            },
            {
                "step_num": 9,
                "step_name": "I delete the OpsWorks user profile",
                "step_name_cleaned": "I delete the OpsWorks user profile",
                "step_definition": "function(callback) {\n    var params = {IamUserArn: this.iamUserArn};\n    this.request(null, 'deleteUserProfile', params, callback, false);\n  }",
                "step_definition_file": "opsworks.js"
            },
            {
                "step_num": 10,
                "step_name": "I delete the IAM user",
                "step_name_cleaned": "I delete the IAM user",
                "step_definition": "function(callback) {\n    this.request('iam', 'deleteUser', {UserName: this.iamUser}, callback);\n  }",
                "step_definition_file": "iam.js"
            }
        ]
    },
    {
        "feature_file": "opsworks.feature",
        "test_num": 104,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I have an IAM username \"\"",
                "step_name_cleaned": "I have an IAM username \"\"",
                "step_definition": "function(name, callback) {\n    this.iamUserArn = '';\n    this.iamUser = this.uniqueName(name);\n    callback();\n  }",
                "step_definition_file": "iam.js"
            },
            {
                "step_num": 2,
                "step_name": "I create an OpsWorks user profile with the IAM user ARN",
                "step_name_cleaned": "I create an OpsWorks user profile with the IAM user ARN",
                "step_definition": "function(callback) {\n    var params = {IamUserArn: this.iamUserArn};\n    this.request(null, 'createUserProfile', params, callback, false);\n  }",
                "step_definition_file": "opsworks.js"
            },
            {
                "step_num": 3,
                "step_name": "the error code should be \"ValidationException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 4,
                "step_name": "the status code should be 400",
                "step_name_cleaned": "the status code should be 400",
                "step_definition": "function(status, callback) {\n    this.assert.equal(this.response.httpResponse.statusCode, parseInt(status));\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "rds.feature",
        "test_num": 105,
        "test_case": "Describe DB security group",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeDBSecurityGroups\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"DBSecurityGroups\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 4,
                "step_name": "the value at \"DBSecurityGroups\" should contain \"DBSecurityGroupDescription\" with \"default\"",
                "step_name_cleaned": "the value at \"\" should contain \"\" with \"\"",
                "step_definition": "function (path, key, value, callback) {\n    var member = jmespath.search(this.data, path);\n    var containDefault = false;\n    member.forEach(function(config) {\n      console.log(config[key], value)\n      if (config[key] === value) {\n        containDefault = true\n      }\n    });\n    this.assert.ok(containDefault === true, `No ${path} has member key ${key} of the value ${value}`);\n    callback();\n  }",
                "step_definition_file": "rds.js"
            }
        ]
    },
    {
        "feature_file": "rds.feature",
        "test_num": 106,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a RDS security group with prefix name \"\"",
                "step_name_cleaned": "I create a RDS security group with prefix name \"\"",
                "step_definition": "function(prefix, callback) {\n    this.dbGroupName = this.uniqueName(prefix);\n    var params = { DBSecurityGroupDescription: 'Description', DBSecurityGroupName: this.dbGroupName };\n    this.request(null, 'createDBSecurityGroup', params, callback, false);\n  }",
                "step_definition_file": "rds.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"InvalidParameterValue\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the status code should be 400",
                "step_name_cleaned": "the status code should be 400",
                "step_definition": "function(status, callback) {\n    this.assert.equal(this.response.httpResponse.statusCode, parseInt(status));\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "rds.feature",
        "test_num": 107,
        "test_case": "Paginating responses",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I paginate the \"describeReservedDBInstancesOfferings\" operation with limit 100",
                "step_name_cleaned": "I paginate the \"\" operation with limit 100",
                "step_definition": "function(operation, limit, maxPages, callback) {\n    limit = parseInt(limit);\n    if (maxPages) maxPages = parseInt(maxPages);\n\n    var world = this;\n    this.numPages = 0;\n    this.numMarkers = 0;\n    this.operation = operation;\n    this.paginationConfig = this.service.paginationConfig(operation);\n    this.params = this.params || {};\n\n    var marker = this.paginationConfig.outputToken;\n    if (this.paginationConfig.limitKey) {\n      this.params[this.paginationConfig.limitKey] = limit;\n    }\n    this.service[operation](this.params).eachPage(function (err, data) {\n      if (err) callback.fail(err);\n      else if (data === null) callback();\n      else if (maxPages && world.numPages === maxPages) {\n        callback();\n        return false;\n      }\n      else {\n        if (data[marker]) world.numMarkers++;\n        world.numPages++;\n        world.data = data;\n      }\n    });\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "I should get more than one page",
                "step_name_cleaned": "I should get more than one page",
                "step_definition": "function(callback) {\n    this.assert.compare(this.numPages, '>', 1);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "I should get numPages - 1 markers",
                "step_name_cleaned": "I should get numPages - 1 markers",
                "step_definition": "function(callback) {\n    this.assert.equal(this.numMarkers, this.numPages - 1);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 4,
                "step_name": "the last page should not contain a marker",
                "step_name_cleaned": "the last page should not contain a marker",
                "step_definition": "function(callback) {\n    var marker = this.paginationConfig.outputToken;\n    this.assert.equal(this.data[marker], null);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "rds.feature",
        "test_num": 108,
        "test_case": "Paginating responses (with callback)",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I paginate the \"describeReservedDBInstancesOfferings\" operation asynchronously with limit 100",
                "step_name_cleaned": "I paginate the \"\" operation asynchronously with limit 100",
                "step_definition": "function (operation, limit, callback) {\n    var maxPages = 3;\n    limit = parseInt(limit);\n\n    var world = this;\n    this.numPages = 0;\n    this.numMarkers = 0\n    this.operation = operation;\n    this.paginationConfig = this.service.paginationConfig(operation);\n    this.params = this.params || {};\n    this.finishedPagination = false;\n\n    var marker = this.paginationConfig.outputToken;\n    if (this.paginationConfig.limitKey) {\n      this.params[this.paginationConfig.limitKey] = limit;\n    }\n    this.service[operation](this.params).eachPage(function (err, data, done) {\n      process.nextTick(function() {\n        if (err) callback.fail(err);\n        else if (data === null || world.numPages === maxPages) {\n          world.finishedPagination = true;\n          callback();\n          return false;\n        } else {\n          if (data[marker]) world.numMarkers++;\n          world.numPages++;\n          world.data = data;\n        }\n\n        done(); // start getting next page\n      });\n    });\n  }",
                "step_definition_file": "rds.js"
            },
            {
                "step_num": 2,
                "step_name": "I should be able to asynchronously paginate all pages",
                "step_name_cleaned": "I should be able to asynchronously paginate all pages",
                "step_definition": "function (callback) {\n    this.assert.equal(this.finishedPagination, true);\n    callback();\n  }",
                "step_definition_file": "rds.js"
            }
        ]
    },
    {
        "feature_file": "redshift.feature",
        "test_num": 109,
        "test_case": "Describe cluster parameter groups",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeClusterParameterGroups\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"ParameterGroups\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "redshift.feature",
        "test_num": 110,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a Redshift cluster parameter group with prefix name \"\"",
                "step_name_cleaned": "I create a Redshift cluster parameter group with prefix name \"\"",
                "step_definition": "function(prefix, callback) {\n    this.parameterGroupName = this.uniqueName(prefix);\n    var params = {\n      Description: 'Description',\n      ParameterGroupName: this.parameterGroupName,\n      ParameterGroupFamily: 'redshift-1.0'\n    };\n    this.request(null, 'createClusterParameterGroup', params, callback, false);\n  }",
                "step_definition_file": "redshift.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"InvalidParameterValue\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the error message should contain",
                "step_name_cleaned": "the error message should contain",
                "step_definition": "function(matcher, message, callback) {\n    if (matcher === 'be') matcher = 'equal';\n    if (matcher === 'contain') matcher = 'match';\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert[matcher](this.error.message, message);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "route53.feature",
        "test_num": 111,
        "test_case": "Making a request",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listHostedZones\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"HostedZones\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "route53.feature",
        "test_num": 112,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"getHostedZone\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"NoSuchHostedZone\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "route53domains.feature",
        "test_num": 113,
        "test_case": "Feature",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I list Route53 domains",
                "step_name_cleaned": "I list Route53 domains",
                "step_definition": "function (callback) {\n    this.request(null, 'listDomains', {}, callback);\n  }",
                "step_definition_file": "route53domains.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"Domains\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "route53domains.feature",
        "test_num": 114,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I try to register a Route53 domain with invalid parameters",
                "step_name_cleaned": "I try to register a Route53 domain with invalid parameters",
                "step_definition": "function (callback) {\n    var params = {\n      DomainName: 'example.com',\n      DurationInYears: 1,\n      AdminContact: {}, RegistrantContact: {}, TechContact: {}\n    };\n    this.request(null, 'registerDomain', params, callback, false);\n  }",
                "step_definition_file": "route53domains.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"InvalidInput\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "buckets.feature",
        "test_num": 115,
        "test_case": "CRUD buckets using the classic endpoint",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I am using the S3 \"us-east-1\" region",
                "step_name_cleaned": "I am using the S3 \"\" region",
                "step_definition": "function(region, callback) {\n    this.s3 = new this.AWS.S3({region: region});\n    callback();\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 2,
                "step_name": "I create a bucket",
                "step_name_cleaned": "I create a bucket",
                "step_definition": "function(callback) {\n    var bucket = this.bucket = this.uniqueName('aws-sdk-js-integration');\n    this.request('s3', 'createBucket', {Bucket: this.bucket}, function(err, data) {\n      if (err) {\n        return callback(err);\n      }\n      this.s3.waitFor('bucketExists', {Bucket: bucket}, callback);\n    });\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the bucket should exist",
                "step_name_cleaned": "the bucket should exist",
                "step_definition": "function(next) {\n    this.s3.waitFor('bucketExists', {Bucket: this.bucket}, next);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 4,
                "step_name": "I delete the bucket",
                "step_name_cleaned": "I delete the bucket",
                "step_definition": "function(callback) {\n    this.request('s3', 'deleteBucket', {Bucket: this.bucket}, callback);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 5,
                "step_name": "the bucket should not exist",
                "step_name_cleaned": "the bucket should not exist",
                "step_definition": "function(callback) {\n    this.s3.waitFor('bucketNotExists', {Bucket: this.bucket}, callback);\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "buckets.feature",
        "test_num": 116,
        "test_case": "CRUD buckets using a regional endpoint",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I am using the S3 \"us-west-2\" region",
                "step_name_cleaned": "I am using the S3 \"\" region",
                "step_definition": "function(region, callback) {\n    this.s3 = new this.AWS.S3({region: region});\n    callback();\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 2,
                "step_name": "I create a bucket",
                "step_name_cleaned": "I create a bucket",
                "step_definition": "function(callback) {\n    var bucket = this.bucket = this.uniqueName('aws-sdk-js-integration');\n    this.request('s3', 'createBucket', {Bucket: this.bucket}, function(err, data) {\n      if (err) {\n        return callback(err);\n      }\n      this.s3.waitFor('bucketExists', {Bucket: bucket}, callback);\n    });\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the bucket should exist",
                "step_name_cleaned": "the bucket should exist",
                "step_definition": "function(next) {\n    this.s3.waitFor('bucketExists', {Bucket: this.bucket}, next);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 4,
                "step_name": "I delete the bucket",
                "step_name_cleaned": "I delete the bucket",
                "step_definition": "function(callback) {\n    this.request('s3', 'deleteBucket', {Bucket: this.bucket}, callback);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 5,
                "step_name": "the bucket should not exist",
                "step_name_cleaned": "the bucket should not exist",
                "step_definition": "function(callback) {\n    this.s3.waitFor('bucketNotExists', {Bucket: this.bucket}, callback);\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "buckets.feature",
        "test_num": 117,
        "test_case": "Support us-east-1 regional endpoint",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I am using the S3 us-east-1 regional endpoint",
                "step_name_cleaned": "I am using the S3 us-east-1 regional endpoint",
                "step_definition": "function(callback) {\n    this.s3 = new this.AWS.S3({region: 'us-east-1', s3UsEast1RegionalEndpoint: 'regional'});\n    callback();\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 2,
                "step_name": "I create a bucket",
                "step_name_cleaned": "I create a bucket",
                "step_definition": "function(callback) {\n    var bucket = this.bucket = this.uniqueName('aws-sdk-js-integration');\n    this.request('s3', 'createBucket', {Bucket: this.bucket}, function(err, data) {\n      if (err) {\n        return callback(err);\n      }\n      this.s3.waitFor('bucketExists', {Bucket: bucket}, callback);\n    });\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the bucket should exist",
                "step_name_cleaned": "the bucket should exist",
                "step_definition": "function(next) {\n    this.s3.waitFor('bucketExists', {Bucket: this.bucket}, next);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 4,
                "step_name": "I delete the bucket",
                "step_name_cleaned": "I delete the bucket",
                "step_definition": "function(callback) {\n    this.request('s3', 'deleteBucket', {Bucket: this.bucket}, callback);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 5,
                "step_name": "the bucket should not exist",
                "step_name_cleaned": "the bucket should not exist",
                "step_definition": "function(callback) {\n    this.s3.waitFor('bucketNotExists', {Bucket: this.bucket}, callback);\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "buckets.feature",
        "test_num": 118,
        "test_case": "Bucket CORS",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a bucket",
                "step_name_cleaned": "I create a bucket",
                "step_definition": "function(callback) {\n    var bucket = this.bucket = this.uniqueName('aws-sdk-js-integration');\n    this.request('s3', 'createBucket', {Bucket: this.bucket}, function(err, data) {\n      if (err) {\n        return callback(err);\n      }\n      this.s3.waitFor('bucketExists', {Bucket: bucket}, callback);\n    });\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "I put a bucket CORS configuration",
                "step_name_cleaned": "I put a bucket CORS configuration",
                "step_definition": "function(callback) {\n    var params = {\n      Bucket: this.bucket,\n      CORSConfiguration: {\n        CORSRules: [{\n          AllowedMethods: ['DELETE', 'POST', 'PUT'],\n          AllowedOrigins: ['http://example.com'],\n          AllowedHeaders: ['*'],\n          ExposeHeaders: ['x-amz-server-side-encryption'],\n          MaxAgeSeconds: 5000\n        }]\n      }\n    };\n    this.request('s3', 'putBucketCors', params, callback);\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 3,
                "step_name": "I get the bucket CORS configuration",
                "step_name_cleaned": "I get the bucket CORS configuration",
                "step_definition": "function(callback) {\n    this.request('s3', 'getBucketCors', {Bucket: this.bucket}, callback);\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 4,
                "step_name": "the AllowedMethods list should inclue \"DELETE POST PUT\"",
                "step_name_cleaned": "the AllowedMethods list should inclue \"\"",
                "step_definition": "function(value, callback) {\n    this.assert.equal(this.data.CORSRules[0].AllowedMethods.sort().join(' '), 'DELETE POST PUT');\n    callback();\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 5,
                "step_name": "the AllowedOrigin value should equal \"http://example.com\"",
                "step_name_cleaned": "the AllowedOrigin value should equal \"\"",
                "step_definition": "function(value, callback) {\n    this.assert.equal(this.data.CORSRules[0].AllowedOrigins[0], value);\n    callback();\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 6,
                "step_name": "the AllowedHeader value should equal \"*\"",
                "step_name_cleaned": "the AllowedHeader value should equal \"\"",
                "step_definition": "function(value, callback) {\n    this.assert.equal(this.data.CORSRules[0].AllowedHeaders[0], value);\n    callback();\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 7,
                "step_name": "the ExposeHeader value should equal \"x-amz-server-side-encryption\"",
                "step_name_cleaned": "the ExposeHeader value should equal \"\"",
                "step_definition": "function(value, callback) {\n    this.assert.equal(this.data.CORSRules[0].ExposeHeaders[0], value);\n    callback();\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 8,
                "step_name": "the MaxAgeSeconds value should equal 5000",
                "step_name_cleaned": "the MaxAgeSeconds value should equal 5000",
                "step_definition": "function(value, callback) {\n    this.assert.equal(this.data.CORSRules[0].MaxAgeSeconds, parseInt(value));\n    callback();\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 9,
                "step_name": "I delete the bucket",
                "step_name_cleaned": "I delete the bucket",
                "step_definition": "function(callback) {\n    this.request('s3', 'deleteBucket', {Bucket: this.bucket}, callback);\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "buckets.feature",
        "test_num": 119,
        "test_case": "Bucket lifecycles",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a bucket",
                "step_name_cleaned": "I create a bucket",
                "step_definition": "function(callback) {\n    var bucket = this.bucket = this.uniqueName('aws-sdk-js-integration');\n    this.request('s3', 'createBucket', {Bucket: this.bucket}, function(err, data) {\n      if (err) {\n        return callback(err);\n      }\n      this.s3.waitFor('bucketExists', {Bucket: bucket}, callback);\n    });\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "I put a transition lifecycle configuration on the bucket with prefix \"/\"",
                "step_name_cleaned": "I put a transition lifecycle configuration on the bucket with prefix \"\"",
                "step_definition": "function(prefix, callback) {\n    var params = {\n      Bucket: this.bucket,\n      LifecycleConfiguration: {\n        Rules: [{\n          Prefix: prefix,\n          Status: 'Enabled',\n          Transition: {Days: 0, StorageClass: 'GLACIER'}\n        }]\n      }\n    };\n    this.request('s3', 'putBucketLifecycle', params, callback);\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 3,
                "step_name": "I get the transition lifecycle configuration on the bucket",
                "step_name_cleaned": "I get the transition lifecycle configuration on the bucket",
                "step_definition": "function(callback) {\n    this.eventually(callback, function(next) {\n      this.request('s3', 'getBucketLifecycle', {Bucket: this.bucket}, next);\n    });\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 4,
                "step_name": "the lifecycle configuration should have transition days of 0",
                "step_name_cleaned": "the lifecycle configuration should have transition days of 0",
                "step_definition": "function(days, callback) {\n    this.assert.equal(this.data.Rules[0].Transition.Days, 0);\n    callback();\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 5,
                "step_name": "the lifecycle configuration should have transition storage class of \"GLACIER\"",
                "step_name_cleaned": "the lifecycle configuration should have transition storage class of \"\"",
                "step_definition": "function(value, callback) {\n    this.assert.equal(this.data.Rules[0].Transition.StorageClass, value);\n    callback();\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 6,
                "step_name": "I delete the bucket",
                "step_name_cleaned": "I delete the bucket",
                "step_definition": "function(callback) {\n    this.request('s3', 'deleteBucket', {Bucket: this.bucket}, callback);\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "buckets.feature",
        "test_num": 120,
        "test_case": "Bucket Tagging",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a bucket",
                "step_name_cleaned": "I create a bucket",
                "step_definition": "function(callback) {\n    var bucket = this.bucket = this.uniqueName('aws-sdk-js-integration');\n    this.request('s3', 'createBucket', {Bucket: this.bucket}, function(err, data) {\n      if (err) {\n        return callback(err);\n      }\n      this.s3.waitFor('bucketExists', {Bucket: bucket}, callback);\n    });\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "I put a bucket tag with key \"KEY\" and value \"VALUE\"",
                "step_name_cleaned": "I put a bucket tag with key \"\" and value \"\"",
                "step_definition": "function(key, value, callback) {\n    var params = {\n      Bucket: this.bucket,\n      Tagging: {\n        TagSet: [\n          {Key: key, Value: value}\n        ]\n      }\n    };\n\n    this.request('s3', 'putBucketTagging', params, callback);\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 3,
                "step_name": "I get the bucket tagging",
                "step_name_cleaned": "I get the bucket tagging",
                "step_definition": "function(callback) {\n    this.request('s3', 'getBucketTagging', {Bucket: this.bucket}, callback);\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 4,
                "step_name": "the first tag in the tag set should have key and value \"KEY\", \"VALUE\"",
                "step_name_cleaned": "the first tag in the tag set should have key and value \"\", \"\"",
                "step_definition": "function(key, value, callback) {\n    this.assert.equal(this.data.TagSet[0].Key, key);\n    this.assert.equal(this.data.TagSet[0].Value, value);\n    callback();\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 5,
                "step_name": "I delete the bucket",
                "step_name_cleaned": "I delete the bucket",
                "step_definition": "function(callback) {\n    this.request('s3', 'deleteBucket', {Bucket: this.bucket}, callback);\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "buckets.feature",
        "test_num": 121,
        "test_case": "Access bucket following 307 redirects",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I am using the S3 \"us-east-1\" region with signatureVersion \"s3\"",
                "step_name_cleaned": "I am using the S3 \"\" region with signatureVersion \"\"",
                "step_definition": "function(region, signatureVersion, callback) {\n    this.s3 = new this.AWS.S3({region: region, signatureVersion: signatureVersion});\n    callback();\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 2,
                "step_name": "I create a bucket with the location constraint \"EU\"",
                "step_name_cleaned": "I create a bucket with the location constraint \"\"",
                "step_definition": "function(location, callback) {\n    var bucket = this.bucket = this.uniqueName('aws-sdk-js-integration');\n    var params = {\n      Bucket: this.bucket,\n      CreateBucketConfiguration: {\n        LocationConstraint: location\n      }\n    };\n    this.request('s3', 'createBucket', params, function(err, data) {\n      if (err) {\n        return callback(err);\n      }\n      this.s3.waitFor('bucketExists', {Bucket: bucket}, callback);\n    });\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 3,
                "step_name": "the bucket should exist",
                "step_name_cleaned": "the bucket should exist",
                "step_definition": "function(next) {\n    this.s3.waitFor('bucketExists', {Bucket: this.bucket}, next);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 4,
                "step_name": "the bucket should have a location constraint of \"EU\"",
                "step_name_cleaned": "the bucket should have a location constraint of \"\"",
                "step_definition": "function(loc, callback) {\n    var self = this;\n    self.s3.getBucketLocation({Bucket: self.bucket}, function(err, data) {\n      if (err) callback.fail(err);\n      self.assert.equal(data.LocationConstraint, loc);\n      callback();\n    });\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 5,
                "step_name": "I delete the bucket",
                "step_name_cleaned": "I delete the bucket",
                "step_definition": "function(callback) {\n    this.request('s3', 'deleteBucket', {Bucket: this.bucket}, callback);\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "buckets.feature",
        "test_num": 122,
        "test_case": "Working with bucket names that contain '.'",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a bucket with a DNS compatible name that contains a dot",
                "step_name_cleaned": "I create a bucket with a DNS compatible name that contains a dot",
                "step_definition": "function(callback) {\n    var bucket = this.bucket = this.uniqueName('aws-sdk-js.integration');\n    this.request('s3', 'createBucket', {Bucket: this.bucket}, function(err, data) {\n      if (err) {\n        return callback(err);\n      }\n      this.s3.waitFor('bucketExists', {Bucket: bucket}, callback);\n    });\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 2,
                "step_name": "the bucket should exist",
                "step_name_cleaned": "the bucket should exist",
                "step_definition": "function(next) {\n    this.s3.waitFor('bucketExists', {Bucket: this.bucket}, next);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "I delete the bucket",
                "step_name_cleaned": "I delete the bucket",
                "step_definition": "function(callback) {\n    this.request('s3', 'deleteBucket', {Bucket: this.bucket}, callback);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 4,
                "step_name": "the bucket should not exist",
                "step_name_cleaned": "the bucket should not exist",
                "step_definition": "function(callback) {\n    this.s3.waitFor('bucketNotExists', {Bucket: this.bucket}, callback);\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "buckets.feature",
        "test_num": 123,
        "test_case": "Operating on a bucket using path style",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I force path style requests",
                "step_name_cleaned": "I force path style requests",
                "step_definition": "function(callback) {\n    this.s3 = new this.AWS.S3({s3ForcePathStyle: true});\n    callback();\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 2,
                "step_name": "I create a bucket",
                "step_name_cleaned": "I create a bucket",
                "step_definition": "function(callback) {\n    var bucket = this.bucket = this.uniqueName('aws-sdk-js-integration');\n    this.request('s3', 'createBucket', {Bucket: this.bucket}, function(err, data) {\n      if (err) {\n        return callback(err);\n      }\n      this.s3.waitFor('bucketExists', {Bucket: bucket}, callback);\n    });\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "I put \"abc\" to the key \"hello\" in the bucket",
                "step_name_cleaned": "I put \"\" to the key \"\" in the bucket",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.bucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 4,
                "step_name": "the bucket name should be in the request path",
                "step_name_cleaned": "the bucket name should be in the request path",
                "step_definition": "function(callback) {\n    var path = this.response.request.httpRequest.path.split('/');\n    this.assert.equal(path[1], this.bucket);\n    callback();\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 5,
                "step_name": "the bucket name should not be in the request host",
                "step_name_cleaned": "the bucket name should not be in the request host",
                "step_definition": "function(callback) {\n    var host = this.response.request.httpRequest.endpoint.host;\n    this.assert.compare(host.indexOf(this.bucket), '<', 0);\n    callback();\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 6,
                "step_name": "I delete the object \"hello\" from the bucket",
                "step_name_cleaned": "I delete the object \"\" from the bucket",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.bucket, Key: key};\n    this.request('s3', 'deleteObject', params, next);\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 7,
                "step_name": "I delete the bucket",
                "step_name_cleaned": "I delete the bucket",
                "step_definition": "function(callback) {\n    this.request('s3', 'deleteBucket', {Bucket: this.bucket}, callback);\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "buckets.feature",
        "test_num": 124,
        "test_case": "Follow 307 redirect on new buckets",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I am using the S3 \"us-east-1\" region with signatureVersion \"s3\"",
                "step_name_cleaned": "I am using the S3 \"\" region with signatureVersion \"\"",
                "step_definition": "function(region, signatureVersion, callback) {\n    this.s3 = new this.AWS.S3({region: region, signatureVersion: signatureVersion});\n    callback();\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 2,
                "step_name": "I create a bucket with the location constraint \"us-west-2\"",
                "step_name_cleaned": "I create a bucket with the location constraint \"\"",
                "step_definition": "function(location, callback) {\n    var bucket = this.bucket = this.uniqueName('aws-sdk-js-integration');\n    var params = {\n      Bucket: this.bucket,\n      CreateBucketConfiguration: {\n        LocationConstraint: location\n      }\n    };\n    this.request('s3', 'createBucket', params, function(err, data) {\n      if (err) {\n        return callback(err);\n      }\n      this.s3.waitFor('bucketExists', {Bucket: bucket}, callback);\n    });\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 3,
                "step_name": "I put a large buffer to the key \"largeobject\" in the bucket",
                "step_name_cleaned": "I put a large buffer to the key \"\" in the bucket",
                "step_definition": "function(size, key, next) {\n    var body = this.createBuffer(size);\n    var params = {Bucket: this.bucket, Key: key, Body: body};\n    this.request('s3', 'putObject', params, next);\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 4,
                "step_name": "the object \"largeobject\" should exist in the bucket",
                "step_name_cleaned": "the object \"\" should exist in the bucket",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.bucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 5,
                "step_name": "I delete the object \"largeobject\" from the bucket",
                "step_name_cleaned": "I delete the object \"\" from the bucket",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.bucket, Key: key};\n    this.request('s3', 'deleteObject', params, next);\n  }",
                "step_definition_file": "buckets.js"
            },
            {
                "step_num": 6,
                "step_name": "I delete the bucket",
                "step_name_cleaned": "I delete the bucket",
                "step_definition": "function(callback) {\n    this.request('s3', 'deleteBucket', {Bucket: this.bucket}, callback);\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "managed_upload.feature",
        "test_num": 125,
        "test_case": "Uploading an empty buffer",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use S3 managed upload to upload an empty buffer to the key \"empty_upload_buffer\"",
                "step_name_cleaned": "I use S3 managed upload to upload an empty buffer to the key \"\"",
                "step_definition": "function (size, key, callback) {\n    var self = this;\n    var buffer = self.createBuffer(size);\n    var params = {Bucket: self.sharedBucket, Key: key, Body: buffer};\n    self.s3.upload(params, function (err, data) {\n      self.error = err;\n      self.data = data;\n      callback();\n    });\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 2,
                "step_name": "the multipart upload should succeed",
                "step_name_cleaned": "the multipart upload should succeed",
                "step_definition": "function (callback) {\n    this.assert.equal(this.error, null);\n    this.assert.equal(typeof this.data.Location, 'string');\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"empty_upload_buffer\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the ContentLength should equal 0",
                "step_name_cleaned": "the ContentLength should equal 0",
                "step_definition": "function (val, callback) {\n    this.assert.equal(this.data.ContentLength, val);\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            }
        ]
    },
    {
        "feature_file": "managed_upload.feature",
        "test_num": 126,
        "test_case": "Uploading a small buffer",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use S3 managed upload to upload a small buffer to the key \"small_upload_buffer\"",
                "step_name_cleaned": "I use S3 managed upload to upload a small buffer to the key \"\"",
                "step_definition": "function (size, key, callback) {\n    var self = this;\n    var buffer = self.createBuffer(size);\n    var params = {Bucket: self.sharedBucket, Key: key, Body: buffer};\n    self.s3.upload(params, function (err, data) {\n      self.error = err;\n      self.data = data;\n      callback();\n    });\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 2,
                "step_name": "the multipart upload should succeed",
                "step_name_cleaned": "the multipart upload should succeed",
                "step_definition": "function (callback) {\n    this.assert.equal(this.error, null);\n    this.assert.equal(typeof this.data.Location, 'string');\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"small_upload_buffer\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the ContentLength should equal 1048576",
                "step_name_cleaned": "the ContentLength should equal 1048576",
                "step_definition": "function (val, callback) {\n    this.assert.equal(this.data.ContentLength, val);\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            }
        ]
    },
    {
        "feature_file": "managed_upload.feature",
        "test_num": 127,
        "test_case": "Uploading a large buffer",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use S3 managed upload to upload a large buffer to the key \"large_upload_buffer\"",
                "step_name_cleaned": "I use S3 managed upload to upload a large buffer to the key \"\"",
                "step_definition": "function (size, key, callback) {\n    var self = this;\n    var buffer = self.createBuffer(size);\n    var params = {Bucket: self.sharedBucket, Key: key, Body: buffer};\n    self.s3.upload(params, function (err, data) {\n      self.error = err;\n      self.data = data;\n      callback();\n    });\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 2,
                "step_name": "the multipart upload should succeed",
                "step_name_cleaned": "the multipart upload should succeed",
                "step_definition": "function (callback) {\n    this.assert.equal(this.error, null);\n    this.assert.equal(typeof this.data.Location, 'string');\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"large_upload_buffer\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the ContentLength should equal 20971520",
                "step_name_cleaned": "the ContentLength should equal 20971520",
                "step_definition": "function (val, callback) {\n    this.assert.equal(this.data.ContentLength, val);\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            }
        ]
    },
    {
        "feature_file": "managed_upload.feature",
        "test_num": 128,
        "test_case": "Uploading an empty stream",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use S3 managed upload to upload an empty stream to the key \"empty_upload_stream\"",
                "step_name_cleaned": "I use S3 managed upload to upload an empty stream to the key \"\"",
                "step_definition": "function (size, key, callback) {\n    var fs = require('fs');\n    var self = this;\n    var fileName = self.createFile(size);\n    var params = {Bucket: self.sharedBucket, Key: key, Body: fs.createReadStream(fileName)};\n\n    self.progressEvents = [];\n    var progress = function(info) {\n      self.progressEvents.push(info);\n    };\n\n    self.s3.upload(params).on('httpUploadProgress', progress).send(function (err, data) {\n      self.error = err;\n      self.data = data;\n      callback();\n    });\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 2,
                "step_name": "the multipart upload should succeed",
                "step_name_cleaned": "the multipart upload should succeed",
                "step_definition": "function (callback) {\n    this.assert.equal(this.error, null);\n    this.assert.equal(typeof this.data.Location, 'string');\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"empty_upload_stream\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the ContentLength should equal 0",
                "step_name_cleaned": "the ContentLength should equal 0",
                "step_definition": "function (val, callback) {\n    this.assert.equal(this.data.ContentLength, val);\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            }
        ]
    },
    {
        "feature_file": "managed_upload.feature",
        "test_num": 129,
        "test_case": "Uploading a small stream",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use S3 managed upload to upload a small stream to the key \"small_upload_stream\"",
                "step_name_cleaned": "I use S3 managed upload to upload a small stream to the key \"\"",
                "step_definition": "function (size, key, callback) {\n    var fs = require('fs');\n    var self = this;\n    var fileName = self.createFile(size);\n    var params = {Bucket: self.sharedBucket, Key: key, Body: fs.createReadStream(fileName)};\n\n    self.progressEvents = [];\n    var progress = function(info) {\n      self.progressEvents.push(info);\n    };\n\n    self.s3.upload(params).on('httpUploadProgress', progress).send(function (err, data) {\n      self.error = err;\n      self.data = data;\n      callback();\n    });\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 2,
                "step_name": "the multipart upload should succeed",
                "step_name_cleaned": "the multipart upload should succeed",
                "step_definition": "function (callback) {\n    this.assert.equal(this.error, null);\n    this.assert.equal(typeof this.data.Location, 'string');\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 3,
                "step_name": "I should get progress events",
                "step_name_cleaned": "I should get progress events",
                "step_definition": "function (callback) {\n    this.assert.compare(this.progressEvents.length, '>', 0);\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 4,
                "step_name": "the object \"small_upload_stream\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "the ContentLength should equal 1048576",
                "step_name_cleaned": "the ContentLength should equal 1048576",
                "step_definition": "function (val, callback) {\n    this.assert.equal(this.data.ContentLength, val);\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            }
        ]
    },
    {
        "feature_file": "managed_upload.feature",
        "test_num": 130,
        "test_case": "Uploading a large stream",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use S3 managed upload to upload a large stream to the key \"large_upload_stream\"",
                "step_name_cleaned": "I use S3 managed upload to upload a large stream to the key \"\"",
                "step_definition": "function (size, key, callback) {\n    var fs = require('fs');\n    var self = this;\n    var fileName = self.createFile(size);\n    var params = {Bucket: self.sharedBucket, Key: key, Body: fs.createReadStream(fileName)};\n\n    self.progressEvents = [];\n    var progress = function(info) {\n      self.progressEvents.push(info);\n    };\n\n    self.s3.upload(params).on('httpUploadProgress', progress).send(function (err, data) {\n      self.error = err;\n      self.data = data;\n      callback();\n    });\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 2,
                "step_name": "the multipart upload should succeed",
                "step_name_cleaned": "the multipart upload should succeed",
                "step_definition": "function (callback) {\n    this.assert.equal(this.error, null);\n    this.assert.equal(typeof this.data.Location, 'string');\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 3,
                "step_name": "I should get progress events",
                "step_name_cleaned": "I should get progress events",
                "step_definition": "function (callback) {\n    this.assert.compare(this.progressEvents.length, '>', 0);\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 4,
                "step_name": "the object \"large_upload_stream\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "the ContentLength should equal 20971520",
                "step_name_cleaned": "the ContentLength should equal 20971520",
                "step_definition": "function (val, callback) {\n    this.assert.equal(this.data.ContentLength, val);\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            }
        ]
    },
    {
        "feature_file": "managed_upload.feature",
        "test_num": 131,
        "test_case": "Verifying uploaded data integrity",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I generate the MD5 checksum of a 20MB buffer",
                "step_name_cleaned": "I generate the MD5 checksum of a 20MB buffer",
                "step_definition": "function(size, next) {\n    this.uploadBuffer = this.createBuffer(size);\n    this.sentContentMD5 = this.AWS.util.crypto.md5(this.uploadBuffer, 'base64');\n    next();\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 2,
                "step_name": "I use S3 managed upload to upload the buffer to the key \"checksummed_data\"",
                "step_name_cleaned": "I use S3 managed upload to upload the buffer to the key \"\"",
                "step_definition": "function (key, callback) {\n    var self = this;\n    var params = {Bucket: self.sharedBucket, Key: key, Body: self.uploadBuffer};\n    self.s3.upload(params, function (err, data) {\n      self.error = err;\n      self.data = data;\n      callback();\n    });\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"checksummed_data\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "I get the object \"checksummed_data\"",
                "step_name_cleaned": "I get the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'getObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "the HTTP response should have a content length of 20971520",
                "step_name_cleaned": "the HTTP response should have a content length of 20971520",
                "step_definition": "function(contentLength, next) {\n    this.assert.equal(this.response.httpResponse.body.length, parseInt(contentLength));\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 6,
                "step_name": "the MD5 checksum of the response data should equal the generated checksum",
                "step_name_cleaned": "the MD5 checksum of the response data should equal the generated checksum",
                "step_definition": "function(next) {\n    var receivedContentMD5 = this.AWS.util.crypto.md5(this.data.Body.toString(), 'base64');\n    this.assert.equal(receivedContentMD5, this.sentContentMD5);\n    next();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "managed_upload.feature",
        "test_num": 132,
        "test_case": "Resuming an upload",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use S3 managed upload to upload some 20MB buffer to the key \"broken_buffer\"",
                "step_name_cleaned": "I use S3 managed upload to upload some 20MB buffer to the key \"\"",
                "step_definition": "function(size, key, callback) {\n    var self = this;\n    var params = {\n      Bucket: self.sharedBucket,\n      Key: key,\n      Body: self.createBuffer(size)\n    };\n    self.progressEvents = [];\n    var progress = function progress(info) {\n      self.progressEvents.push(info);\n    };\n\n    var managedUpload = self.managedUpload = new self.AWS.S3.ManagedUpload({\n      leavePartsOnError: true,\n      params: params,\n      service: self.s3\n    });\n\n    managedUpload.on('httpUploadProgress', progress).send(function(err, data) {\n      self.error = err;\n      self.data = data;\n    });\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 2,
                "step_name": "I abort the upload",
                "step_name_cleaned": "I abort the upload",
                "step_definition": "function(callback) {\n    this.managedUpload.abort();\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 3,
                "step_name": "I receive a \"RequestAbortedError\" error",
                "step_name_cleaned": "I receive a \"\" error",
                "step_definition": "function(errName, callback) {\n    this.assert.equal(this.error.name, errName);\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 4,
                "step_name": "I resume the upload",
                "step_name_cleaned": "I resume the upload",
                "step_definition": "function(callback) {\n    var self = this;\n    self.managedUpload.send(function(err, data) {\n      self.error = err;\n      self.data = data;\n      callback();\n    });\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 5,
                "step_name": "the object \"broken_buffer\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 6,
                "step_name": "the ContentLength should equal 20971520",
                "step_name_cleaned": "the ContentLength should equal 20971520",
                "step_definition": "function (val, callback) {\n    this.assert.equal(this.data.ContentLength, val);\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            }
        ]
    },
    {
        "feature_file": "managed_upload.feature",
        "test_num": 133,
        "test_case": "Resuming a partial upload",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use S3 managed upload to partially upload some 20MB buffer to the key \"partial_buffer\"",
                "step_name_cleaned": "I use S3 managed upload to partially upload some 20MB buffer to the key \"\"",
                "step_definition": "function(size, key, callback) {\n    var self = this;\n    var params = {\n      Bucket: self.sharedBucket,\n      Key: key,\n      Body: self.createBuffer(size)\n    };\n    self.progressEvents = [];\n    var didAbort = false;\n    var progress = function progress(info) {\n      if (self.progressEvents.length && !didAbort) {\n        didAbort = true;\n        self.managedUpload.abort();\n      }\n      self.progressEvents.push(info);\n    };\n\n    var managedUpload = self.managedUpload = new self.AWS.S3.ManagedUpload({\n      leavePartsOnError: true,\n      queueSize: 1,\n      params: params,\n      service: self.s3\n    });\n\n    managedUpload.on('httpUploadProgress', progress).send(function(err, data) {\n      self.error = err;\n      self.data = data;\n      callback();\n    });\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 2,
                "step_name": "I receive a \"RequestAbortedError\" error",
                "step_name_cleaned": "I receive a \"\" error",
                "step_definition": "function(errName, callback) {\n    this.assert.equal(this.error.name, errName);\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 3,
                "step_name": "I resume the upload",
                "step_name_cleaned": "I resume the upload",
                "step_definition": "function(callback) {\n    var self = this;\n    self.managedUpload.send(function(err, data) {\n      self.error = err;\n      self.data = data;\n      callback();\n    });\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 4,
                "step_name": "the object \"partial_buffer\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "the ContentLength should equal 20971520",
                "step_name_cleaned": "the ContentLength should equal 20971520",
                "step_definition": "function (val, callback) {\n    this.assert.equal(this.data.ContentLength, val);\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            },
            {
                "step_num": 6,
                "step_name": "uploadPart should have been called 5 times",
                "step_name_cleaned": "uploadPart should have been called 5 times",
                "step_definition": "function(count, callback) {\n    this.assert.equal(this.progressEvents.length, count);\n    callback();\n  }",
                "step_definition_file": "managed_upload.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 134,
        "test_case": "CRUD objects",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put \"world\" to the key \"hello\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "the object \"hello\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "I get the object \"hello\"",
                "step_name_cleaned": "I get the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'getObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the object \"hello\" should contain \"world\"",
                "step_name_cleaned": "the object \"\" should contain \"\"",
                "step_definition": "function(key, contents, next) {\n    this.assert.equal(this.data.Body.toString().replace('\\n', ''), contents);\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "I put \"new world\" to the key \"hello\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 6,
                "step_name": "the object \"hello\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 7,
                "step_name": "I get the object \"hello\"",
                "step_name_cleaned": "I get the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'getObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 8,
                "step_name": "the object \"hello\" should contain \"new world\"",
                "step_name_cleaned": "the object \"\" should contain \"\"",
                "step_definition": "function(key, contents, next) {\n    this.assert.equal(this.data.Body.toString().replace('\\n', ''), contents);\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 9,
                "step_name": "I delete the object \"hello\"",
                "step_name_cleaned": "I delete the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'deleteObject', params, next);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 10,
                "step_name": "the object \"hello\" should not exist",
                "step_name_cleaned": "the object \"\" should not exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 135,
        "test_case": "Content length",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put \"foo\" to the key \"contentlength\" with ContentLength 3",
                "step_name_cleaned": "I put \"\" to the key \"\" with ContentLength 3",
                "step_definition": "function(contents, key, contentLength, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: contents, ContentLength: parseInt(contentLength)};\n    this.s3nochecksums = new this.AWS.S3({computeChecksums: false});\n    this.request('s3nochecksums', 'putObject', params, next);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "the object \"contentlength\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "I get the object \"contentlength\"",
                "step_name_cleaned": "I get the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'getObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the object \"contentlength\" should contain \"foo\"",
                "step_name_cleaned": "the object \"\" should contain \"\"",
                "step_definition": "function(key, contents, next) {\n    this.assert.equal(this.data.Body.toString().replace('\\n', ''), contents);\n    next();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 136,
        "test_case": "Putting a multi-byte string to an object",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put \"\u00e5\u00df\u2202\u0192\u00a9\" to the key \"multi\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "the object \"multi\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "I get the object \"multi\"",
                "step_name_cleaned": "I get the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'getObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the object \"multi\" should contain \"\u00e5\u00df\u2202\u0192\u00a9\"",
                "step_name_cleaned": "the object \"\" should contain \"\"",
                "step_definition": "function(key, contents, next) {\n    this.assert.equal(this.data.Body.toString().replace('\\n', ''), contents);\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "the HTTP response should have a content length of 11",
                "step_name_cleaned": "the HTTP response should have a content length of 11",
                "step_definition": "function(contentLength, next) {\n    this.assert.equal(this.response.httpResponse.body.length, parseInt(contentLength));\n    next();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 137,
        "test_case": "Copying an object",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put \"world\" to the key \"hello\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "I copy the object \"hello\" to \"byebye\"",
                "step_name_cleaned": "I copy the object \"\" to \"\"",
                "step_definition": "function(key1, key2, next) {\n    var params = {\n      Bucket: this.sharedBucket, Key: key2, CopySource: '/' + this.sharedBucket + '/' + key1\n    };\n    this.request('s3', 'copyObject', params, next);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"byebye\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "I get the object \"byebye\"",
                "step_name_cleaned": "I get the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'getObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "the object \"byebye\" should contain \"world\"",
                "step_name_cleaned": "the object \"\" should contain \"\"",
                "step_definition": "function(key, contents, next) {\n    this.assert.equal(this.data.Body.toString().replace('\\n', ''), contents);\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 6,
                "step_name": "I delete the object \"byebye\"",
                "step_name_cleaned": "I delete the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'deleteObject', params, next);\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 138,
        "test_case": "Private ACL",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put \"world\" to the private key \"hello\"",
                "step_name_cleaned": "I put \"\" to the private key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data, ACL: 'private'};\n    this.request('s3', 'putObject', params, next);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "I get the object \"hello\"",
                "step_name_cleaned": "I get the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'getObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"hello\" should contain \"world\"",
                "step_name_cleaned": "the object \"\" should contain \"\"",
                "step_definition": "function(key, contents, next) {\n    this.assert.equal(this.data.Body.toString().replace('\\n', ''), contents);\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "I delete the object \"hello\"",
                "step_name_cleaned": "I delete the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'deleteObject', params, next);\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 139,
        "test_case": "Putting nothing to an object",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put \"\" to the key \"blank\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "the object \"blank\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "I get the object \"blank\"",
                "step_name_cleaned": "I get the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'getObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the object \"blank\" should contain \"\"",
                "step_name_cleaned": "the object \"\" should contain \"\"",
                "step_definition": "function(key, contents, next) {\n    this.assert.equal(this.data.Body.toString().replace('\\n', ''), contents);\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "the HTTP response should have a content length of 0",
                "step_name_cleaned": "the HTTP response should have a content length of 0",
                "step_definition": "function(contentLength, next) {\n    this.assert.equal(this.response.httpResponse.body.length, parseInt(contentLength));\n    next();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 140,
        "test_case": "Putting and getting an empty buffer",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put an empty buffer to the key \"emptybuffer\"",
                "step_name_cleaned": "I put an empty buffer to the key \"\"",
                "step_definition": "function(size, key, next) {\n    var body = this.createBuffer(size);\n    var params = {Bucket: this.sharedBucket, Key: key, Body: body};\n    this.request('s3', 'putObject', params, next);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "the object \"emptybuffer\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "I get the object \"emptybuffer\"",
                "step_name_cleaned": "I get the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'getObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the HTTP response should have a content length of 0",
                "step_name_cleaned": "the HTTP response should have a content length of 0",
                "step_definition": "function(contentLength, next) {\n    this.assert.equal(this.response.httpResponse.body.length, parseInt(contentLength));\n    next();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 141,
        "test_case": "Putting and getting a small buffer",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put a small buffer to the key \"smallbuffer\"",
                "step_name_cleaned": "I put a small buffer to the key \"\"",
                "step_definition": "function(size, key, next) {\n    var body = this.createBuffer(size);\n    var params = {Bucket: this.sharedBucket, Key: key, Body: body};\n    this.request('s3', 'putObject', params, next);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "the object \"smallbuffer\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "I get the object \"smallbuffer\"",
                "step_name_cleaned": "I get the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'getObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the HTTP response should have a content length of 1048576",
                "step_name_cleaned": "the HTTP response should have a content length of 1048576",
                "step_definition": "function(contentLength, next) {\n    this.assert.equal(this.response.httpResponse.body.length, parseInt(contentLength));\n    next();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 142,
        "test_case": "Putting and getting a large buffer",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put a large buffer to the key \"largebuffer\"",
                "step_name_cleaned": "I put a large buffer to the key \"\"",
                "step_definition": "function(size, key, next) {\n    var body = this.createBuffer(size);\n    var params = {Bucket: this.sharedBucket, Key: key, Body: body};\n    this.request('s3', 'putObject', params, next);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "the object \"largebuffer\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "I get the object \"largebuffer\"",
                "step_name_cleaned": "I get the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'getObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the HTTP response should have a content length of 20971520",
                "step_name_cleaned": "the HTTP response should have a content length of 20971520",
                "step_definition": "function(contentLength, next) {\n    this.assert.equal(this.response.httpResponse.body.length, parseInt(contentLength));\n    next();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 143,
        "test_case": "Putting and getting an empty file",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put an empty file to the key \"emptyfile\"",
                "step_name_cleaned": "I put an empty file to the key \"\"",
                "step_definition": "function(size, key, next) {\n    var fs = require('fs');\n    var filename = this.createFile(size, key);\n    var params = {Bucket: this.sharedBucket, Key: key, Body: fs.createReadStream(filename)};\n    this.request('s3', 'putObject', params, next);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "the object \"emptyfile\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "I get the object \"emptyfile\"",
                "step_name_cleaned": "I get the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'getObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the HTTP response should have a content length of 0",
                "step_name_cleaned": "the HTTP response should have a content length of 0",
                "step_definition": "function(contentLength, next) {\n    this.assert.equal(this.response.httpResponse.body.length, parseInt(contentLength));\n    next();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 144,
        "test_case": "Putting and getting a small file",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put a small file to the key \"smallfile\"",
                "step_name_cleaned": "I put a small file to the key \"\"",
                "step_definition": "function(size, key, next) {\n    var fs = require('fs');\n    var filename = this.createFile(size, key);\n    var params = {Bucket: this.sharedBucket, Key: key, Body: fs.createReadStream(filename)};\n    this.request('s3', 'putObject', params, next);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "the object \"smallfile\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "I get the object \"smallfile\"",
                "step_name_cleaned": "I get the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'getObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the HTTP response should have a content length of 1048576",
                "step_name_cleaned": "the HTTP response should have a content length of 1048576",
                "step_definition": "function(contentLength, next) {\n    this.assert.equal(this.response.httpResponse.body.length, parseInt(contentLength));\n    next();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 145,
        "test_case": "Putting and getting a large file",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put a large file to the key \"largefile\"",
                "step_name_cleaned": "I put a large file to the key \"\"",
                "step_definition": "function(size, key, next) {\n    var fs = require('fs');\n    var filename = this.createFile(size, key);\n    var params = {Bucket: this.sharedBucket, Key: key, Body: fs.createReadStream(filename)};\n    this.request('s3', 'putObject', params, next);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "the object \"largefile\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "I get the object \"largefile\"",
                "step_name_cleaned": "I get the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'getObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the HTTP response should have a content length of 20971520",
                "step_name_cleaned": "the HTTP response should have a content length of 20971520",
                "step_definition": "function(contentLength, next) {\n    this.assert.equal(this.response.httpResponse.body.length, parseInt(contentLength));\n    next();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 146,
        "test_case": "Verifying data integrity",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I generate the MD5 checksum of \"SOME SAMPLE DATA\"",
                "step_name_cleaned": "I generate the MD5 checksum of \"\"",
                "step_definition": "function(data, next) {\n    this.sentContentMD5 = this.AWS.util.crypto.md5(data, 'base64');\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "I put \"SOME SAMPLE DATA\" to the key \"checksummed_data\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"checksummed_data\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "I get the object \"checksummed_data\"",
                "step_name_cleaned": "I get the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'getObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "the object \"checksummed_data\" should contain \"SOME SAMPLE DATA\"",
                "step_name_cleaned": "the object \"\" should contain \"\"",
                "step_definition": "function(key, contents, next) {\n    this.assert.equal(this.data.Body.toString().replace('\\n', ''), contents);\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 6,
                "step_name": "the HTTP response should have a content length of 16",
                "step_name_cleaned": "the HTTP response should have a content length of 16",
                "step_definition": "function(contentLength, next) {\n    this.assert.equal(this.response.httpResponse.body.length, parseInt(contentLength));\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 7,
                "step_name": "the MD5 checksum of the response data should equal the generated checksum",
                "step_name_cleaned": "the MD5 checksum of the response data should equal the generated checksum",
                "step_definition": "function(next) {\n    var receivedContentMD5 = this.AWS.util.crypto.md5(this.data.Body.toString(), 'base64');\n    this.assert.equal(receivedContentMD5, this.sentContentMD5);\n    next();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 147,
        "test_case": "Putting to a pre-signed URL",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I get a pre-signed URL to PUT the key \"presigned\"",
                "step_name_cleaned": "I get a pre-signed URL to PUT the key \"\"",
                "step_definition": "function(key, body, callback) {\n    var world = this;\n    var params = {Bucket: this.sharedBucket, Key: key};\n    if (body) params.Body = body;\n    this.s3.getSignedUrl('putObject', params, function(err, url) {\n      world.signedUrl = url;\n      callback();\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "I access the URL via HTTP PUT with data \"PRESIGNED BODY CONTENTS\"",
                "step_name_cleaned": "I access the URL via HTTP PUT with data \"\"",
                "step_definition": "function(body, callback) {\n    var world = this;\n    this.data = '';\n\n    var data = body;\n    var options = require('url').parse(this.signedUrl);\n    options.method = 'PUT';\n    options.headers = {'Content-Length': data.length};\n\n    require('https').request(options, function (res) {\n      res.on('data', function (chunk) {\n        world.data += chunk.toString();\n      }).on('end', callback);\n    }).on('error', callback.fail).end(data);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "I get a pre-signed URL to GET the key \"presigned\"",
                "step_name_cleaned": "I get a pre-signed URL to GET the key \"\"",
                "step_definition": "function(key, callback) {\n    var world = this;\n    this.s3.getSignedUrl('getObject', {Bucket: this.sharedBucket, Key: key}, function(err, url) {\n      world.signedUrl = url;\n      callback();\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "I access the URL via HTTP GET",
                "step_name_cleaned": "I access the URL via HTTP GET",
                "step_definition": "function(callback) {\n    var world = this;\n    this.data = '';\n    require('https').get(this.signedUrl, function (res) {\n      res.on('data', function (chunk) {\n        world.data += chunk.toString();\n      }).on('end', callback);\n    }).on('error', callback.fail);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "the HTTP response should equal \"PRESIGNED BODY CONTENTS\"",
                "step_name_cleaned": "the HTTP response should equal \"\"",
                "step_definition": "function(data, callback) {\n    this.assert.equal(this.data, data);\n    callback();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 148,
        "test_case": "Pre-signed URLs with checksum",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I get a pre-signed URL to PUT the key \"hello\" with data \"CHECKSUMMED\"",
                "step_name_cleaned": "I get a pre-signed URL to PUT the key \"\" with data \"\"",
                "step_definition": "function(key, body, callback) {\n    var world = this;\n    var params = {Bucket: this.sharedBucket, Key: key};\n    if (body) params.Body = body;\n    this.s3.getSignedUrl('putObject', params, function(err, url) {\n      world.signedUrl = url;\n      callback();\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "I access the URL via HTTP PUT with data \"NOT CHECKSUMMED\"",
                "step_name_cleaned": "I access the URL via HTTP PUT with data \"\"",
                "step_definition": "function(body, callback) {\n    var world = this;\n    this.data = '';\n\n    var data = body;\n    var options = require('url').parse(this.signedUrl);\n    options.method = 'PUT';\n    options.headers = {'Content-Length': data.length};\n\n    require('https').request(options, function (res) {\n      res.on('data', function (chunk) {\n        world.data += chunk.toString();\n      }).on('end', callback);\n    }).on('error', callback.fail).end(data);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "the HTTP response should contain \"SignatureDoesNotMatch\"",
                "step_name_cleaned": "the HTTP response should contain \"\"",
                "step_definition": "function(data, callback) {\n    this.assert.match(this.data, data);\n    callback();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 149,
        "test_case": "POSTing an object with a presigned form",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a presigned form to POST the key \"presignedPost\" with the data \"PRESIGNED POST CONTENTS\"",
                "step_name_cleaned": "I create a presigned form to POST the key \"\" with the data \"\"",
                "step_definition": "function (key, data, callback) {\n      var world = this;\n      var boundary = this.postBoundary = '----WebKitFormBoundaryLL0mBKIuuLUKr7be';\n      var conditions = [\n          ['content-length-range', data.length - 1, data.length + 1]\n        ],\n        params = {\n          Bucket: this.sharedBucket,\n          Fields: {key: key},\n          Conditions: conditions\n        };\n      this.s3.createPresignedPost(params, function(err, postData) {\n        var body = Object.keys(postData.fields).reduce(function(body, fieldName) {\n          body += '--' + boundary + '\\r\\n';\n          body += 'Content-Disposition: form-data; name=\"' + fieldName + '\"\\r\\n\\r\\n';\n          return body + postData.fields[fieldName] + '\\r\\n';\n        }, '');\n        body += '--' + world.postBoundary + '\\r\\n';\n        body += 'Content-Disposition: form-data; name=\"file\"; filename=\"' + key + '\"\\r\\n';\n        body += 'Content-Type: text/plain\\r\\n\\r\\n';\n        body += data + '\\r\\n';\n        body += '--' + world.postBoundary + '\\r\\n';\n        body += 'Content-Disposition: form-data; name=\"submit\"\\r\\n';\n        body += 'Content-Type: text/plain\\r\\n\\r\\n';\n        body += 'submit\\r\\n';\n        body += '--' + world.postBoundary + '--\\r\\n';\n        world.postBody = body;\n        world.postAction = postData.url;\n        callback();\n      });\n    }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "I POST the form",
                "step_name_cleaned": "I POST the form",
                "step_definition": "function (callback) {\n    var world = this;\n    var options = require('url').parse(this.postAction);\n    options.method = 'POST';\n    options.headers = {\n      'Content-Type': 'multipart/form-data; boundary=' + this.postBoundary,\n      'Content-Length': this.postBody.length\n    };\n    require('https').request(options, function(res) {\n      res.on('data', function (chunk) {\n        world.data += chunk.toString();\n      }).on('end', callback);\n    })\n      .on('error', callback.fail)\n      .end(this.postBody);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"presignedPost\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "I get the object \"presignedPost\"",
                "step_name_cleaned": "I get the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'getObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "the object \"presignedPost\" should contain \"PRESIGNED POST CONTENTS\"",
                "step_name_cleaned": "the object \"\" should contain \"\"",
                "step_definition": "function(key, contents, next) {\n    this.assert.equal(this.data.Body.toString().replace('\\n', ''), contents);\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 6,
                "step_name": "the HTTP response should have a content length of 23",
                "step_name_cleaned": "the HTTP response should have a content length of 23",
                "step_definition": "function(contentLength, next) {\n    this.assert.equal(this.response.httpResponse.body.length, parseInt(contentLength));\n    next();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 150,
        "test_case": "Streaming objects",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put \"STREAMING CONTENT\" to the key \"streaming_object\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "the object \"streaming_object\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "I stream key \"streaming_object\"",
                "step_name_cleaned": "I stream key \"\"",
                "step_definition": "function(key, callback) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    var world = this;\n    this.result = '';\n    var s = this.service.getObject(params).createReadStream();\n\n    setTimeout(function() {\n      s.on('end', function() { callback(); });\n      s.on('data', function(d) { world.result += d.toString(); });\n    }, 2000); // delay streaming to ensure it is buffered\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the streamed data should contain \"STREAMING CONTENT\"",
                "step_name_cleaned": "the streamed data should contain \"\"",
                "step_definition": "function(data, callback) {\n    this.assert.equal(this.result.replace('\\n', ''), data);\n    callback();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "I stream2 key \"streaming_object\"",
                "step_name_cleaned": "I stream2 key \"\"",
                "step_definition": "function(key, callback) {\n    if (!require('stream').Readable) return callback();\n    var params = {Bucket: this.sharedBucket, Key: key};\n    var world = this;\n    this.result = '';\n    var stream = this.service.getObject(params).createReadStream();\n    setTimeout(function() {\n      stream.on('end', function() { callback(); });\n      stream.on('readable', function() {\n        var v = stream.read(); if (v) world.result += v;\n      });\n    }, 2000); // delay streaming to ensure it is buffered\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 6,
                "step_name": "the streamed data should contain \"STREAMING CONTENT\"",
                "step_name_cleaned": "the streamed data should contain \"\"",
                "step_definition": "function(data, callback) {\n    this.assert.equal(this.result.replace('\\n', ''), data);\n    callback();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 151,
        "test_case": "Streaming empty objects",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put an empty buffer to the key \"empty_streaming_object\"",
                "step_name_cleaned": "I put an empty buffer to the key \"\"",
                "step_definition": "function(size, key, next) {\n    var body = this.createBuffer(size);\n    var params = {Bucket: this.sharedBucket, Key: key, Body: body};\n    this.request('s3', 'putObject', params, next);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "the object \"empty_streaming_object\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "I stream key \"empty_streaming_object\"",
                "step_name_cleaned": "I stream key \"\"",
                "step_definition": "function(key, callback) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    var world = this;\n    this.result = '';\n    var s = this.service.getObject(params).createReadStream();\n\n    setTimeout(function() {\n      s.on('end', function() { callback(); });\n      s.on('data', function(d) { world.result += d.toString(); });\n    }, 2000); // delay streaming to ensure it is buffered\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the streamed data content length should equal 0",
                "step_name_cleaned": "the streamed data content length should equal 0",
                "step_definition": "function(length, callback) {\n    this.assert.equal(this.result.length, length);\n    callback();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "I stream2 key \"empty_streaming_object\"",
                "step_name_cleaned": "I stream2 key \"\"",
                "step_definition": "function(key, callback) {\n    if (!require('stream').Readable) return callback();\n    var params = {Bucket: this.sharedBucket, Key: key};\n    var world = this;\n    this.result = '';\n    var stream = this.service.getObject(params).createReadStream();\n    setTimeout(function() {\n      stream.on('end', function() { callback(); });\n      stream.on('readable', function() {\n        var v = stream.read(); if (v) world.result += v;\n      });\n    }, 2000); // delay streaming to ensure it is buffered\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 6,
                "step_name": "the streamed data content length should equal 0",
                "step_name_cleaned": "the streamed data content length should equal 0",
                "step_definition": "function(length, callback) {\n    this.assert.equal(this.result.length, length);\n    callback();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 152,
        "test_case": "Streaming small objects",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put a small buffer to the key \"small_streaming_object\"",
                "step_name_cleaned": "I put a small buffer to the key \"\"",
                "step_definition": "function(size, key, next) {\n    var body = this.createBuffer(size);\n    var params = {Bucket: this.sharedBucket, Key: key, Body: body};\n    this.request('s3', 'putObject', params, next);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "the object \"small_streaming_object\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "I stream key \"small_streaming_object\"",
                "step_name_cleaned": "I stream key \"\"",
                "step_definition": "function(key, callback) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    var world = this;\n    this.result = '';\n    var s = this.service.getObject(params).createReadStream();\n\n    setTimeout(function() {\n      s.on('end', function() { callback(); });\n      s.on('data', function(d) { world.result += d.toString(); });\n    }, 2000); // delay streaming to ensure it is buffered\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the streamed data content length should equal 1048576",
                "step_name_cleaned": "the streamed data content length should equal 1048576",
                "step_definition": "function(length, callback) {\n    this.assert.equal(this.result.length, length);\n    callback();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "I stream2 key \"small_streaming_object\"",
                "step_name_cleaned": "I stream2 key \"\"",
                "step_definition": "function(key, callback) {\n    if (!require('stream').Readable) return callback();\n    var params = {Bucket: this.sharedBucket, Key: key};\n    var world = this;\n    this.result = '';\n    var stream = this.service.getObject(params).createReadStream();\n    setTimeout(function() {\n      stream.on('end', function() { callback(); });\n      stream.on('readable', function() {\n        var v = stream.read(); if (v) world.result += v;\n      });\n    }, 2000); // delay streaming to ensure it is buffered\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 6,
                "step_name": "the streamed data content length should equal 1048576",
                "step_name_cleaned": "the streamed data content length should equal 1048576",
                "step_definition": "function(length, callback) {\n    this.assert.equal(this.result.length, length);\n    callback();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 153,
        "test_case": "Streaming large objects",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put a large buffer to the key \"large_streaming_object\"",
                "step_name_cleaned": "I put a large buffer to the key \"\"",
                "step_definition": "function(size, key, next) {\n    var body = this.createBuffer(size);\n    var params = {Bucket: this.sharedBucket, Key: key, Body: body};\n    this.request('s3', 'putObject', params, next);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "the object \"large_streaming_object\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "I stream key \"large_streaming_object\"",
                "step_name_cleaned": "I stream key \"\"",
                "step_definition": "function(key, callback) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    var world = this;\n    this.result = '';\n    var s = this.service.getObject(params).createReadStream();\n\n    setTimeout(function() {\n      s.on('end', function() { callback(); });\n      s.on('data', function(d) { world.result += d.toString(); });\n    }, 2000); // delay streaming to ensure it is buffered\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the streamed data content length should equal 20971520",
                "step_name_cleaned": "the streamed data content length should equal 20971520",
                "step_definition": "function(length, callback) {\n    this.assert.equal(this.result.length, length);\n    callback();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "I stream2 key \"large_streaming_object\"",
                "step_name_cleaned": "I stream2 key \"\"",
                "step_definition": "function(key, callback) {\n    if (!require('stream').Readable) return callback();\n    var params = {Bucket: this.sharedBucket, Key: key};\n    var world = this;\n    this.result = '';\n    var stream = this.service.getObject(params).createReadStream();\n    setTimeout(function() {\n      stream.on('end', function() { callback(); });\n      stream.on('readable', function() {\n        var v = stream.read(); if (v) world.result += v;\n      });\n    }, 2000); // delay streaming to ensure it is buffered\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 6,
                "step_name": "the streamed data content length should equal 20971520",
                "step_name_cleaned": "the streamed data content length should equal 20971520",
                "step_definition": "function(length, callback) {\n    this.assert.equal(this.result.length, length);\n    callback();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 154,
        "test_case": "Progress events",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put a 2MB buffer to the key \"progress_object\" with progress events",
                "step_name_cleaned": "I put a 2MB buffer to the key \"\" with progress events",
                "step_definition": "function(size, key, callback) {\n    var self = this;\n    var body = self.createBuffer(size);\n    this.progress = [];\n    var req = this.s3.putObject({Bucket: this.sharedBucket, Key: key, Body: body});\n    req.on('httpUploadProgress', function (p) { self.progress.push(p); });\n    req.send(callback);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "more than 0 \"httpUploadProgress\" event should fire",
                "step_name_cleaned": "more than 0 \"\" event should fire",
                "step_definition": "function(numEvents, eventName, callback) {\n    this.assert.compare(this.progress.length, '>', numEvents);\n    callback();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "the \"total\" value of the progress event should equal 2MB",
                "step_name_cleaned": "the \"\" value of the progress event should equal 2MB",
                "step_definition": "function(prop, mb, callback) {\n    this.assert.equal(this.progress[0][prop], mb * 1024 * 1024);\n    callback();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the \"loaded\" value of the first progress event should be greater than 10 bytes",
                "step_name_cleaned": "the \"\" value of the first progress event should be greater than 10 bytes",
                "step_definition": "function(prop, bytes, callback) {\n    this.assert.compare(this.progress[0][prop], '>', bytes);\n    callback();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "I read the key \"progress_object\" with progress events",
                "step_name_cleaned": "I read the key \"\" with progress events",
                "step_definition": "function(key, callback) {\n    var self = this;\n    this.progress = [];\n    var req = this.s3.getObject({Bucket: this.sharedBucket, Key: key});\n    req.on('httpDownloadProgress', function (p) { self.progress.push(p); });\n    req.send(callback);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 6,
                "step_name": "more than 0 \"httpDownloadProgress\" event should fire",
                "step_name_cleaned": "more than 0 \"\" event should fire",
                "step_definition": "function(numEvents, eventName, callback) {\n    this.assert.compare(this.progress.length, '>', numEvents);\n    callback();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 7,
                "step_name": "the \"total\" value of the progress event should equal 2MB",
                "step_name_cleaned": "the \"\" value of the progress event should equal 2MB",
                "step_definition": "function(prop, mb, callback) {\n    this.assert.equal(this.progress[0][prop], mb * 1024 * 1024);\n    callback();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 8,
                "step_name": "the \"loaded\" value of the first progress event should be greater than 10 bytes",
                "step_name_cleaned": "the \"\" value of the first progress event should be greater than 10 bytes",
                "step_definition": "function(prop, bytes, callback) {\n    this.assert.compare(this.progress[0][prop], '>', bytes);\n    callback();\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 155,
        "test_case": "Proxy support",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put \"world\" to the key \"proxy_object\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "the object \"proxy_object\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "I get the object \"proxy_object\"",
                "step_name_cleaned": "I get the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'getObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "the object \"proxy_object\" should contain \"world\"",
                "step_name_cleaned": "the object \"\" should contain \"\"",
                "step_definition": "function(key, contents, next) {\n    this.assert.equal(this.data.Body.toString().replace('\\n', ''), contents);\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "I delete the object \"proxy_object\"",
                "step_name_cleaned": "I delete the object \"\"",
                "step_definition": "function(key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key};\n    this.request('s3', 'deleteObject', params, next);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 6,
                "step_name": "the object \"proxy_object\" should not exist",
                "step_name_cleaned": "the object \"\" should not exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 7,
                "step_name": "I teardown the local proxy server",
                "step_name_cleaned": "I teardown the local proxy server",
                "step_definition": "function(callback) {\n    this.service = this.s3 = new this.AWS.S3();\n    this.proxyServer.close(callback);\n  }",
                "step_definition_file": "proxy.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 156,
        "test_case": "Paginating responses",
        "steps": [
            {
                "step_num": 1,
                "step_name": "an empty bucket",
                "step_name_cleaned": "an empty bucket",
                "step_definition": "function(next) {\n    var self = this;\n    var params = { Bucket: this.sharedBucket };\n    self.s3.listObjects(params, function(err, data) {\n      if (err) return next(err);\n      if (data.Contents.length > 0) {\n        params.Delete = { Objects: [] };\n        data.Contents.forEach(function (item) {\n          params.Delete.Objects.push({Key: item.Key});\n        });\n        self.request('s3', 'deleteObjects', params, next);\n      } else {\n        next();\n      }\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "I put \"data\" to the key \"obj0\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "I put \"data\" to the key \"obj1\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 4,
                "step_name": "I put \"data\" to the key \"obj2\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 5,
                "step_name": "I put \"data\" to the key \"obj3\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 6,
                "step_name": "I put \"data\" to the key \"obj4\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 7,
                "step_name": "I put \"data\" to the key \"obj5\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 8,
                "step_name": "I put \"data\" to the key \"obj6\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 9,
                "step_name": "I put \"data\" to the key \"obj7\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 10,
                "step_name": "I put \"data\" to the key \"obj8\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 11,
                "step_name": "I put \"data\" to the key \"obj9\"",
                "step_name_cleaned": "I put \"\" to the key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 12,
                "step_name": "the object \"obj9\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 13,
                "step_name": "I setup the listObjects request for the bucket",
                "step_name_cleaned": "I setup the listObjects request for the bucket",
                "step_definition": "function(callback) {\n    this.params = { Bucket: this.sharedBucket };\n    callback();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 14,
                "step_name": "I paginate the \"listObjects\" operation with limit 3",
                "step_name_cleaned": "I paginate the \"\" operation with limit 3",
                "step_definition": "function(operation, limit, maxPages, callback) {\n    limit = parseInt(limit);\n    if (maxPages) maxPages = parseInt(maxPages);\n\n    var world = this;\n    this.numPages = 0;\n    this.numMarkers = 0;\n    this.operation = operation;\n    this.paginationConfig = this.service.paginationConfig(operation);\n    this.params = this.params || {};\n\n    var marker = this.paginationConfig.outputToken;\n    if (this.paginationConfig.limitKey) {\n      this.params[this.paginationConfig.limitKey] = limit;\n    }\n    this.service[operation](this.params).eachPage(function (err, data) {\n      if (err) callback.fail(err);\n      else if (data === null) callback();\n      else if (maxPages && world.numPages === maxPages) {\n        callback();\n        return false;\n      }\n      else {\n        if (data[marker]) world.numMarkers++;\n        world.numPages++;\n        world.data = data;\n      }\n    });\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 15,
                "step_name": "I should get 4 pages",
                "step_name_cleaned": "I should get 4 pages",
                "step_definition": "function(numPages, callback) {\n    this.assert.equal(this.numPages, parseInt(numPages));\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 157,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I put \"data\" to the invalid key \"\"",
                "step_name_cleaned": "I put \"\" to the invalid key \"\"",
                "step_definition": "function(data, key, next) {\n    var params = {Bucket: this.sharedBucket, Key: key, Body: data};\n    this.request('s3', 'putObject', params, next, false);\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"UriParameterError\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 158,
        "test_case": "Sigv4 Bucket with trailing slash",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use signatureVersion \"v4\"",
                "step_name_cleaned": "I use signatureVersion \"\"",
                "step_definition": "function(signatureVersion, next) {\n    this.s3Slashes = new this.AWS.S3({signatureVersion: signatureVersion});\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "I put \"\" to the key \"\" with bucket suffix \"/\"",
                "step_name_cleaned": "I put \"\" to the key \"\" with bucket suffix \"\"",
                "step_definition": "function(data, key, suffix, next) {\n    var world = this;\n    var params = {\n      Bucket: this.sharedBucket + suffix,\n      Key: key,\n      Body: data\n    };\n    this.s3Slashes.putObject(params, function(err, data) {\n      world.assert.equal(!!err, false);\n      next();\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"/\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 159,
        "test_case": "Sigv4 Bucket with dobule trailing slashes",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use signatureVersion \"v4\"",
                "step_name_cleaned": "I use signatureVersion \"\"",
                "step_definition": "function(signatureVersion, next) {\n    this.s3Slashes = new this.AWS.S3({signatureVersion: signatureVersion});\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "I put \"\" to the key \"\" with bucket suffix \"//\"",
                "step_name_cleaned": "I put \"\" to the key \"\" with bucket suffix \"\"",
                "step_definition": "function(data, key, suffix, next) {\n    var world = this;\n    var params = {\n      Bucket: this.sharedBucket + suffix,\n      Key: key,\n      Body: data\n    };\n    this.s3Slashes.putObject(params, function(err, data) {\n      world.assert.equal(!!err, false);\n      next();\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"//\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 160,
        "test_case": "Sigv4 Bucket with slashes without trailing slash",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use signatureVersion \"v4\"",
                "step_name_cleaned": "I use signatureVersion \"\"",
                "step_definition": "function(signatureVersion, next) {\n    this.s3Slashes = new this.AWS.S3({signatureVersion: signatureVersion});\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "I put \"\" to the key \"\" with bucket suffix \"/a/b\"",
                "step_name_cleaned": "I put \"\" to the key \"\" with bucket suffix \"\"",
                "step_definition": "function(data, key, suffix, next) {\n    var world = this;\n    var params = {\n      Bucket: this.sharedBucket + suffix,\n      Key: key,\n      Body: data\n    };\n    this.s3Slashes.putObject(params, function(err, data) {\n      world.assert.equal(!!err, false);\n      next();\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"a/b/\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 161,
        "test_case": "Sigv4 Bucket with slashes with Key",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use signatureVersion \"v4\"",
                "step_name_cleaned": "I use signatureVersion \"\"",
                "step_definition": "function(signatureVersion, next) {\n    this.s3Slashes = new this.AWS.S3({signatureVersion: signatureVersion});\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "I put \"\" to the key \"foo\" with bucket suffix \"/a/b\"",
                "step_name_cleaned": "I put \"\" to the key \"\" with bucket suffix \"\"",
                "step_definition": "function(data, key, suffix, next) {\n    var world = this;\n    var params = {\n      Bucket: this.sharedBucket + suffix,\n      Key: key,\n      Body: data\n    };\n    this.s3Slashes.putObject(params, function(err, data) {\n      world.assert.equal(!!err, false);\n      next();\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"a/b/foo\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 162,
        "test_case": "Sigv4 Bucket with trailing slashes with Key",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use signatureVersion \"v4\"",
                "step_name_cleaned": "I use signatureVersion \"\"",
                "step_definition": "function(signatureVersion, next) {\n    this.s3Slashes = new this.AWS.S3({signatureVersion: signatureVersion});\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "I put \"\" to the key \"foo\" with bucket suffix \"/a/b/\"",
                "step_name_cleaned": "I put \"\" to the key \"\" with bucket suffix \"\"",
                "step_definition": "function(data, key, suffix, next) {\n    var world = this;\n    var params = {\n      Bucket: this.sharedBucket + suffix,\n      Key: key,\n      Body: data\n    };\n    this.s3Slashes.putObject(params, function(err, data) {\n      world.assert.equal(!!err, false);\n      next();\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"a/b//foo\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 163,
        "test_case": "Sigv2 Bucket with trailing slash",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use signatureVersion \"v2\"",
                "step_name_cleaned": "I use signatureVersion \"\"",
                "step_definition": "function(signatureVersion, next) {\n    this.s3Slashes = new this.AWS.S3({signatureVersion: signatureVersion});\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "I put \"\" to the key \"\" with bucket suffix \"/\"",
                "step_name_cleaned": "I put \"\" to the key \"\" with bucket suffix \"\"",
                "step_definition": "function(data, key, suffix, next) {\n    var world = this;\n    var params = {\n      Bucket: this.sharedBucket + suffix,\n      Key: key,\n      Body: data\n    };\n    this.s3Slashes.putObject(params, function(err, data) {\n      world.assert.equal(!!err, false);\n      next();\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"/\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 164,
        "test_case": "Sigv2 Bucket with double trailing slashes",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use signatureVersion \"v2\"",
                "step_name_cleaned": "I use signatureVersion \"\"",
                "step_definition": "function(signatureVersion, next) {\n    this.s3Slashes = new this.AWS.S3({signatureVersion: signatureVersion});\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "I put \"\" to the key \"\" with bucket suffix \"//\"",
                "step_name_cleaned": "I put \"\" to the key \"\" with bucket suffix \"\"",
                "step_definition": "function(data, key, suffix, next) {\n    var world = this;\n    var params = {\n      Bucket: this.sharedBucket + suffix,\n      Key: key,\n      Body: data\n    };\n    this.s3Slashes.putObject(params, function(err, data) {\n      world.assert.equal(!!err, false);\n      next();\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"//\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 165,
        "test_case": "Sigv2 Bucket with slashes without trailing slash",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use signatureVersion \"v2\"",
                "step_name_cleaned": "I use signatureVersion \"\"",
                "step_definition": "function(signatureVersion, next) {\n    this.s3Slashes = new this.AWS.S3({signatureVersion: signatureVersion});\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "I put \"\" to the key \"\" with bucket suffix \"/a/b\"",
                "step_name_cleaned": "I put \"\" to the key \"\" with bucket suffix \"\"",
                "step_definition": "function(data, key, suffix, next) {\n    var world = this;\n    var params = {\n      Bucket: this.sharedBucket + suffix,\n      Key: key,\n      Body: data\n    };\n    this.s3Slashes.putObject(params, function(err, data) {\n      world.assert.equal(!!err, false);\n      next();\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"a/b/\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 166,
        "test_case": "Sigv2 Bucket with slashes with Key",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use signatureVersion \"v2\"",
                "step_name_cleaned": "I use signatureVersion \"\"",
                "step_definition": "function(signatureVersion, next) {\n    this.s3Slashes = new this.AWS.S3({signatureVersion: signatureVersion});\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "I put \"\" to the key \"foo\" with bucket suffix \"/a/b\"",
                "step_name_cleaned": "I put \"\" to the key \"\" with bucket suffix \"\"",
                "step_definition": "function(data, key, suffix, next) {\n    var world = this;\n    var params = {\n      Bucket: this.sharedBucket + suffix,\n      Key: key,\n      Body: data\n    };\n    this.s3Slashes.putObject(params, function(err, data) {\n      world.assert.equal(!!err, false);\n      next();\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"a/b/foo\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "objects.feature",
        "test_num": 167,
        "test_case": "Sigv2 Bucket with trailing slashes with Key",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I use signatureVersion \"v2\"",
                "step_name_cleaned": "I use signatureVersion \"\"",
                "step_definition": "function(signatureVersion, next) {\n    this.s3Slashes = new this.AWS.S3({signatureVersion: signatureVersion});\n    next();\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 2,
                "step_name": "I put \"\" to the key \"foo\" with bucket suffix \"/a/b/\"",
                "step_name_cleaned": "I put \"\" to the key \"\" with bucket suffix \"\"",
                "step_definition": "function(data, key, suffix, next) {\n    var world = this;\n    var params = {\n      Bucket: this.sharedBucket + suffix,\n      Key: key,\n      Body: data\n    };\n    this.s3Slashes.putObject(params, function(err, data) {\n      world.assert.equal(!!err, false);\n      next();\n    });\n  }",
                "step_definition_file": "objects.js"
            },
            {
                "step_num": 3,
                "step_name": "the object \"a/b//foo\" should exist",
                "step_name_cleaned": "the object \"\" should exist",
                "step_definition": "function(key, shouldNotExist, next) {\n    var params = { Bucket: this.sharedBucket, Key: key };\n    this.eventually(next, function (retry) {\n      retry.condition = function() {\n        if (shouldNotExist) {\n          return this.error && this.error.code === 'NotFound';\n        } else {\n          return !this.error;\n        }\n      };\n      this.request('s3', 'headObject', params, retry, false);\n    });\n  }",
                "step_definition_file": "objects.js"
            }
        ]
    },
    {
        "feature_file": "ses.feature",
        "test_num": 168,
        "test_case": "Check quota",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I check quota",
                "step_name_cleaned": "I check quota",
                "step_definition": "function(next) {\n    this.request(null, 'getSendQuota', {}, next);\n  }",
                "step_definition_file": "ses.js"
            },
            {
                "step_num": 2,
                "step_name": "the result should include number \"SentLast24Hours\"",
                "step_name_cleaned": "the result should include number \"\"",
                "step_definition": "function(type, attr, next) {\n    if (this.data[attr] === undefined) next.fail(\"Missing \" + attr);\n    if (typeof this.data[attr] !== type) next.fail(\"Incorrect type \" + attr);\n    next();\n  }",
                "step_definition_file": "ses.js"
            },
            {
                "step_num": 3,
                "step_name": "the result should include number \"MaxSendRate\"",
                "step_name_cleaned": "the result should include number \"\"",
                "step_definition": "function(type, attr, next) {\n    if (this.data[attr] === undefined) next.fail(\"Missing \" + attr);\n    if (typeof this.data[attr] !== type) next.fail(\"Incorrect type \" + attr);\n    next();\n  }",
                "step_definition_file": "ses.js"
            }
        ]
    },
    {
        "feature_file": "ses.feature",
        "test_num": 169,
        "test_case": "Verify email",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I ask to verify the email address \"foo@example.com\"",
                "step_name_cleaned": "I ask to verify the email address \"\"",
                "step_definition": "function(email, next) {\n    this.request(null, 'verifyEmailAddress', {EmailAddress: email}, next, function() {\n      // do nothing\n    });\n  }",
                "step_definition_file": "ses.js"
            },
            {
                "step_num": 2,
                "step_name": "the status code should be 200",
                "step_name_cleaned": "the status code should be 200",
                "step_definition": "function(status, callback) {\n    this.assert.equal(this.response.httpResponse.statusCode, parseInt(status));\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "ses.feature",
        "test_num": 170,
        "test_case": "Rescue SES InvalidParameterValue",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I ask to verify the email address \"abc123\"",
                "step_name_cleaned": "I ask to verify the email address \"\"",
                "step_definition": "function(email, next) {\n    this.request(null, 'verifyEmailAddress', {EmailAddress: email}, next, function() {\n      // do nothing\n    });\n  }",
                "step_definition_file": "ses.js"
            },
            {
                "step_num": 2,
                "step_name": "I should get the error",
                "step_name_cleaned": "I should get the error",
                "step_definition": "function(table, callback) {\n    var err = table.hashes()[0];\n    this.assert.equal(this.error.code, err.code);\n    this.assert.equal(this.error.message, err.message);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "sns.feature",
        "test_num": 171,
        "test_case": "Topics",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create an SNS topic with name \"aws-js-sdk-integration-topic\"",
                "step_name_cleaned": "I create an SNS topic with name \"\"",
                "step_definition": "function (name, callback) {\n      var world = this;\n      this.request(\n        null,\n        \"createTopic\",\n        { Name: name },\n        callback,\n        function (resp) {\n          world.topicArn = resp.data.TopicArn;\n        }\n      );\n    }",
                "step_definition_file": "sns.js"
            },
            {
                "step_num": 2,
                "step_name": "I list the SNS topics",
                "step_name_cleaned": "I list the SNS topics",
                "step_definition": "function (callback) {\n    this.request(null, \"listTopics\", {}, callback);\n  }",
                "step_definition_file": "sns.js"
            },
            {
                "step_num": 3,
                "step_name": "the list should contain the topic ARN",
                "step_name_cleaned": "the list should contain the topic ARN",
                "step_definition": "function (callback) {\n    var arn = this.topicArn;\n    this.assert.contains(this.data.Topics, function (topic) {\n      return topic.TopicArn === arn;\n    });\n    callback();\n  }",
                "step_definition_file": "sns.js"
            },
            {
                "step_num": 4,
                "step_name": "I delete the SNS topic",
                "step_name_cleaned": "I delete the SNS topic",
                "step_definition": "function (callback) {\n    this.request(null, \"deleteTopic\", { TopicArn: this.topicArn }, callback);\n  }",
                "step_definition_file": "sns.js"
            }
        ]
    },
    {
        "feature_file": "sns.feature",
        "test_num": 172,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I get SNS topic attributes with an invalid ARN",
                "step_name_cleaned": "I get SNS topic attributes with an invalid ARN",
                "step_definition": "function (callback) {\n      this.request(\n        null,\n        \"getTopicAttributes\",\n        { TopicArn: \"INVALID\" },\n        callback,\n        false\n      );\n    }",
                "step_definition_file": "sns.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"InvalidParameter\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "messages.feature",
        "test_num": 173,
        "test_case": "Send an SQS message",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a queue with the prefix name \"aws-js-sdk\"",
                "step_name_cleaned": "I create a queue with the prefix name \"\"",
                "step_definition": "function(prefix, callback) {\n    var name = this.uniqueName(prefix);\n    this.request(null, 'createQueue', { QueueName: name }, callback, function() {\n      this.queueUrl = this.data.QueueUrl;\n      this.createdQueues.push(this.queueUrl);\n    });\n  }",
                "step_definition_file": "queues.js"
            },
            {
                "step_num": 2,
                "step_name": "I send the message \"HELLO\"",
                "step_name_cleaned": "I send the message \"\"",
                "step_definition": "function(message, callback) {\n    this.request(null, 'sendMessage', {QueueUrl:this.queueUrl,MessageBody:message}, callback);\n  }",
                "step_definition_file": "messages.js"
            },
            {
                "step_num": 3,
                "step_name": "the result should include a message ID",
                "step_name_cleaned": "the result should include a message ID",
                "step_definition": "function(callback) {\n    this.assert.compare(this.data.MessageId.length, '>', 0);\n    callback();\n  }",
                "step_definition_file": "messages.js"
            },
            {
                "step_num": 4,
                "step_name": "the result should have an MD5 digest of \"eb61eead90e3b899c6bcbe27ac581660\"",
                "step_name_cleaned": "the result should have an MD5 digest of \"\"",
                "step_definition": "function(digest, callback) {\n    this.assert.equal(this.data.MD5OfMessageBody, digest);\n    callback();\n  }",
                "step_definition_file": "messages.js"
            },
            {
                "step_num": 5,
                "step_name": "I should eventually be able to receive \"HELLO\" from the queue",
                "step_name_cleaned": "I should eventually be able to receive \"\" from the queue",
                "step_definition": "function(message, callback) {\n    this.eventually(callback, function (next) {\n      next.condition = function() {\n        return this.data.Messages[0].Body === message;\n      };\n      this.request(null, 'receiveMessage', {QueueUrl:this.queueUrl}, next);\n    });\n  }",
                "step_definition_file": "messages.js"
            }
        ]
    },
    {
        "feature_file": "messages.feature",
        "test_num": 174,
        "test_case": "Binary payloads",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a queue with the prefix name \"aws-js-sdk\"",
                "step_name_cleaned": "I create a queue with the prefix name \"\"",
                "step_definition": "function(prefix, callback) {\n    var name = this.uniqueName(prefix);\n    this.request(null, 'createQueue', { QueueName: name }, callback, function() {\n      this.queueUrl = this.data.QueueUrl;\n      this.createdQueues.push(this.queueUrl);\n    });\n  }",
                "step_definition_file": "queues.js"
            },
            {
                "step_num": 2,
                "step_name": "I send the message \"HELLO\" with a binary attribute",
                "step_name_cleaned": "I send the message \"\" with a binary attribute",
                "step_definition": "function (message, callback) {\n    var params = {\n      QueueUrl: this.queueUrl,\n      MessageBody: message,\n      MessageAttributes: {\n        binary: { DataType: 'Binary', BinaryValue: Buffer.from([1,2,3]) }\n      }\n    };\n    this.request(null, 'sendMessage', params, callback);\n  }",
                "step_definition_file": "messages.js"
            },
            {
                "step_num": 3,
                "step_name": "the result should include a message ID",
                "step_name_cleaned": "the result should include a message ID",
                "step_definition": "function(callback) {\n    this.assert.compare(this.data.MessageId.length, '>', 0);\n    callback();\n  }",
                "step_definition_file": "messages.js"
            },
            {
                "step_num": 4,
                "step_name": "the result should have an MD5 digest of \"eb61eead90e3b899c6bcbe27ac581660\"",
                "step_name_cleaned": "the result should have an MD5 digest of \"\"",
                "step_definition": "function(digest, callback) {\n    this.assert.equal(this.data.MD5OfMessageBody, digest);\n    callback();\n  }",
                "step_definition_file": "messages.js"
            },
            {
                "step_num": 5,
                "step_name": "I should eventually be able to receive \"HELLO\" from the queue with a binary attribute",
                "step_name_cleaned": "I should eventually be able to receive \"\" from the queue with a binary attribute",
                "step_definition": "function (message, callback) {\n    this.eventually(callback, function (next) {\n      next.condition = function() {\n        return this.data.Messages[0].MessageAttributes.binary.BinaryValue.toString() === '\\u0001\\u0002\\u0003';\n      };\n      var params = {QueueUrl:this.queueUrl,MessageAttributeNames:['binary']};\n      this.request(null, 'receiveMessage', params, next);\n    });\n  }",
                "step_definition_file": "messages.js"
            }
        ]
    },
    {
        "feature_file": "queues.feature",
        "test_num": 175,
        "test_case": "Creating and deleting queues",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a queue with the prefix name \"aws-js-sdk\"",
                "step_name_cleaned": "I create a queue with the prefix name \"\"",
                "step_definition": "function(prefix, callback) {\n    var name = this.uniqueName(prefix);\n    this.request(null, 'createQueue', { QueueName: name }, callback, function() {\n      this.queueUrl = this.data.QueueUrl;\n      this.createdQueues.push(this.queueUrl);\n    });\n  }",
                "step_definition_file": "queues.js"
            },
            {
                "step_num": 2,
                "step_name": "I create a queue with the prefix name \"aws-js-sdk\"",
                "step_name_cleaned": "I create a queue with the prefix name \"\"",
                "step_definition": "function(prefix, callback) {\n    var name = this.uniqueName(prefix);\n    this.request(null, 'createQueue', { QueueName: name }, callback, function() {\n      this.queueUrl = this.data.QueueUrl;\n      this.createdQueues.push(this.queueUrl);\n    });\n  }",
                "step_definition_file": "queues.js"
            },
            {
                "step_num": 3,
                "step_name": "list queues should eventually return the queue urls",
                "step_name_cleaned": "list queues should eventually return the queue urls",
                "step_definition": "function(callback) {\n    this.eventually(callback, function (next) {\n      next.condition = function() {\n        var matchingCount = 0;\n        for (var i = 0; i < this.createdQueues.length; ++i) {\n          for (var j = 0; j < this.data.QueueUrls.length; ++j) {\n            if (this.createdQueues[i] == this.data.QueueUrls[j]) {\n              matchingCount++;\n            }\n          }\n        }\n        return matchingCount == this.createdQueues.length;\n      };\n      this.request(null, 'listQueues', {}, next);\n    }, { maxTime: 60 });\n  }",
                "step_definition_file": "queues.js"
            }
        ]
    },
    {
        "feature_file": "queues.feature",
        "test_num": 176,
        "test_case": "Making a queue request across regions",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I have a \"SQS\" service in the \"us-west-1\" region",
                "step_name_cleaned": "I have a \"\" service in the \"\" region",
                "step_definition": "function(svc, region, callback) {\n    this.service = new this.AWS[svc]({ region: region });\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "I create a queue with the prefix name \"aws-js-sdk\"",
                "step_name_cleaned": "I create a queue with the prefix name \"\"",
                "step_definition": "function(prefix, callback) {\n    var name = this.uniqueName(prefix);\n    this.request(null, 'createQueue', { QueueName: name }, callback, function() {\n      this.queueUrl = this.data.QueueUrl;\n      this.createdQueues.push(this.queueUrl);\n    });\n  }",
                "step_definition_file": "queues.js"
            },
            {
                "step_num": 3,
                "step_name": "I have a \"SQS\" service in the \"us-east-1\" region",
                "step_name_cleaned": "I have a \"\" service in the \"\" region",
                "step_definition": "function(svc, region, callback) {\n    this.service = new this.AWS[svc]({ region: region });\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "ssm.feature",
        "test_num": 177,
        "test_case": "Listing Documents",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listDocuments\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"DocumentIdentifiers\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "ssm.feature",
        "test_num": 178,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeDocument\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"InvalidDocument\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "storagegateway.feature",
        "test_num": 179,
        "test_case": "Listing Gateways",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listGateways\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"Gateways\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "storagegateway.feature",
        "test_num": 180,
        "test_case": "Activating a Gateway",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I try to activate a Storage Gateway",
                "step_name_cleaned": "I try to activate a Storage Gateway",
                "step_definition": "function(callback) {\n    var params = {\n      ActivationKey: 'INVALIDKEY',\n      GatewayName: this.uniqueName('aws-sdk-js'),\n      GatewayTimezone: 'GMT-5:00',\n      GatewayRegion: 'us-east-1'\n    };\n    this.request(null, 'activateGateway', params, callback, false);\n  }",
                "step_definition_file": "storagegateway.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"InvalidGatewayRequestException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the status code should be 400",
                "step_name_cleaned": "the status code should be 400",
                "step_definition": "function(status, callback) {\n    this.assert.equal(this.response.httpResponse.statusCode, parseInt(status));\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "sts.feature",
        "test_num": 181,
        "test_case": "Get a session token",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I get an STS session token with a duration of 900 seconds",
                "step_name_cleaned": "I get an STS session token with a duration of 900 seconds",
                "step_definition": "function(duration, callback) {\n    this.request(null, 'getSessionToken', {DurationSeconds: parseInt(duration)}, callback, false);\n  }",
                "step_definition_file": "sts.js"
            },
            {
                "step_num": 2,
                "step_name": "the result should contain an access key ID and secret access key",
                "step_name_cleaned": "the result should contain an access key ID and secret access key",
                "step_definition": "function(callback) {\n    this.assert.compare(this.data.Credentials.AccessKeyId.length, '>', 0);\n    this.assert.compare(this.data.Credentials.SecretAccessKey.length, '>', 0);\n    callback();\n  }",
                "step_definition_file": "sts.js"
            }
        ]
    },
    {
        "feature_file": "sts.feature",
        "test_num": 182,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I get an STS session token with a duration of 60 seconds",
                "step_name_cleaned": "I get an STS session token with a duration of 60 seconds",
                "step_definition": "function(duration, callback) {\n    this.request(null, 'getSessionToken', {DurationSeconds: parseInt(duration)}, callback, false);\n  }",
                "step_definition_file": "sts.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationError\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "support.feature",
        "test_num": 183,
        "test_case": "Describe Services",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I describe Support services",
                "step_name_cleaned": "I describe Support services",
                "step_definition": "function(callback) {\n    this.request(null, 'describeServices', {}, callback);\n  }",
                "step_definition_file": "support.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"services\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "support.feature",
        "test_num": 184,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I create a case with an invalid category",
                "step_name_cleaned": "I create a case with an invalid category",
                "step_definition": "function(callback) {\n    var params = {\n      subject: \"Subject\",\n      serviceCode: \"INVALID-CODE\",\n      categoryCode: \"INVALID-CATEGORY\",\n      communicationBody: \"Communication\"\n    };\n\n    this.request(null, 'createCase', params, callback, false);\n  }",
                "step_definition_file": "support.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "swf.feature",
        "test_num": 185,
        "test_case": "Listing domains",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listDomains\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"domainInfos\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "swf.feature",
        "test_num": 186,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeDomain\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"UnknownResourceFault\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "waf.feature",
        "test_num": 187,
        "test_case": "Making a request",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"listRules\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"Rules\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "workspaces.feature",
        "test_num": 188,
        "test_case": "Describing workspaces",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"describeWorkspaces\" operation",
                "step_name_cleaned": "I run the \"\" operation",
                "step_definition": "function (operation, callback) {\n    this.request(null, operation, {}, callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the request should be successful",
                "step_name_cleaned": "the request should be successful",
                "step_definition": "function (callback) {\n    this.assert.ok(!this.error, 'Response was not successful');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 3,
                "step_name": "the value at \"Workspaces\" should be a list",
                "step_name_cleaned": "the value at \"\" should be a list",
                "step_definition": "function (path, callback) {\n    var value = jmespath.search(this.data, path);\n    this.assert.ok(Array.isArray(value), 'expected ' + util.inspect(value) + ' to be a list');\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    },
    {
        "feature_file": "workspaces.feature",
        "test_num": 189,
        "test_case": "Error handling",
        "steps": [
            {
                "step_num": 1,
                "step_name": "I run the \"rebuildWorkspaces\" operation with params",
                "step_name_cleaned": "I run the \"\" operation with params",
                "step_definition": "function (operation, params, callback) {\n    this.request(null, operation, JSON.parse(params), callback, false);\n  }",
                "step_definition_file": "hooks.js"
            },
            {
                "step_num": 2,
                "step_name": "the error code should be \"ValidationException\"",
                "step_name_cleaned": "the error code should be \"\"",
                "step_definition": "function(code, callback) {\n    this.assert.ok(this.error, 'Response does not contain an error');\n    this.assert.equal(this.error.code, code);\n    callback();\n  }",
                "step_definition_file": "hooks.js"
            }
        ]
    }
]